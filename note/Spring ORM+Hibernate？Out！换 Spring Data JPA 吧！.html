<html>
<head>
  <title>Spring ORM+Hibernate？Out！换 Spring Data JPA 吧！ - anxpp的博客 - 博客频道 - CSDN.NET</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/306387 (zh-CN, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="3589"/>
<h1>Spring ORM+Hibernate？Out！换 Spring Data JPA 吧！ - anxpp的博客 - 博客频道 - CSDN.NET</h1>

<div><span><div style="-evernote-webclip:true"><br/><div style="font-size: 16px; display: inline-block;"><div><div style="font-family:&quot;microsoft yahei&quot;;background:url(&quot;http://static.blog.csdn.net/skin/skin-yellow/css/../images/bg-yellow.png&quot;) repeat;"><div><div style="font-size:12px;"><div><div><div style="background:rgb(255, 255, 255);border-image:initial;">
    <div style="margin-bottom:21px;">   
         <span style="display:inline-block;vertical-align:middle;width:19px;height:19px;margin-right:10px;background-image:url(&quot;http://static.blog.csdn.net/skin/skin-yellow/css/../images/skin-type-icon.png&quot;);background-repeat:no-repeat;background-position:0px 0px;"></span>


    <h1 style="margin:0px;padding:0px;display:inline-block;vertical-align:middle;font-size:18px;">
        <span><a href="http://blog.csdn.net/anxpp/article/details/51415698" style="text-decoration:none;color:rgb(0, 0, 0);">
        Spring ORM+Hibernate？Out！换 Spring Data JPA 吧！            
        </a></span>
    </h1>
</div>

   

        <div style="font-size:12px;overflow:hidden;padding:0px 20px 5px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;margin:0px -20px;line-height:22px;font-family:Arial;border-bottom:1px solid rgb(237, 237, 237);text-align:right;color:rgb(153, 153, 153);margin-bottom:10px;">
        <div style="width:100%;float:left;">
            <span style="margin:0px 5px;margin-right:0px;float:left;">
            标签：
              <a href="http://www.csdn.net/tag/SpringDataJPA" style="text-decoration:none;display:inline-block;margin-right:10px;color:rgb(200, 131, 38);" target="_blank">SpringDataJPA</a><a href="http://www.csdn.net/tag/Hibernate" style="text-decoration:none;display:inline-block;margin-right:10px;color:rgb(200, 131, 38);" target="_blank">Hibernate</a><a href="http://www.csdn.net/tag/JPA" style="text-decoration:none;display:inline-block;margin-right:10px;color:rgb(200, 131, 38);" target="_blank">JPA</a>
            </span>
        </div>
        <div>
            <span style="margin:0px 5px 0px 0px;margin-right:16px;">2016-05-15 06:56</span>
            <span style="margin:0px 5px;padding:0px 0px 0px 14px;background:url(&quot;http://static.blog.csdn.net/css/../../../images/ico_view.png&quot;) left center no-repeat;margin-right:16px;display:inline-block;background-image:url(&quot;http://static.blog.csdn.net/skin/skin-yellow/css/../images/skin-type-icon.png&quot;);background-repeat:no-repeat;background-position:0px -25px;padding-left:24px;" title="阅读次数">20781人阅读</span>
            <span style="margin:0px 5px;padding:0px 0px 0px 14px;background:url(&quot;http://static.blog.csdn.net/css/../../../images/ico_comm.png&quot;) left center no-repeat;margin-right:16px;display:inline-block;background-repeat:no-repeat;background-position:0px -43px;padding-left:17px;background-image:url(&quot;http://static.blog.csdn.net/skin/skin-yellow/css/../images/skin-type-icon-yellow.png&quot;);" title="评论次数"> <a href="http://blog.csdn.net/anxpp/article/details/51415698#comments" style="text-decoration:none;color:rgb(200, 131, 38);">评论</a>(4)</span>
            <span style="margin:0px 5px;margin-right:16px;display:inline-block;background-repeat:no-repeat;background-position:0px -62px;padding-left:17px;background-image:url(&quot;http://static.blog.csdn.net/skin/skin-yellow/css/../images/skin-type-icon-yellow.png&quot;);"> <a href="#" style="text-decoration:none;color:rgb(200, 131, 38);" target="_blank" title="收藏">收藏</a></span>
             <span style="margin:0px 5px;margin-right:16px;display:inline-block;background-repeat:no-repeat;background-position:0px -81px;padding-left:17px;background-image:url(&quot;http://static.blog.csdn.net/skin/skin-yellow/css/../images/skin-type-icon-yellow.png&quot;);"> <a href="http://blog.csdn.net/anxpp/article/details/51415698#report" style="text-decoration:none;color:rgb(200, 131, 38);" title="举报">举报</a></span>

        </div>
    <span style="text-align:right;color:rgb(153, 153, 153);font-style:normal;font-variant:normal;font-weight:normal;font-size:12px;line-height:22px;font-family:Arial;height:0px;visibility:hidden;display:block;clear:both;">.</span></div>
    
    
    
      <div style="margin:0px -20px;border-bottom:1px solid rgb(237, 237, 237);padding:5px 20px;">
        <div style="display:inline-block;font-size:14px;color:rgb(51, 51, 51);width:70px;float:left;line-height:28px;">
           <img src="Spring ORM+Hibernate？Out！换 Spring Data JPA 吧！_files/category_icon.jpg" type="image/jpeg" data-filename="category_icon.jpg" height="13" style="border:none;vertical-align:middle;" width="15"/>
            <span style="display:inline-block;vertical-align:middle;">分类：</span>
        </div>
        <div style="display:inline-block;font-size:14px;color:rgb(223, 52, 52);float:left;width:90%;">
                    <span style="display:inline-block;margin-left:15px;cursor:pointer;line-height:28px;position:relative;">
                        <span>编程语言—————Java———<em style="font-style:normal;">（41）</em></span>
                      <img src="Spring ORM+Hibernate？Out！换 Spring Data JPA 吧！_files/arrow_triangle _down.jpg" type="image/jpeg" data-filename="arrow_triangle _down.jpg" height="5" style="border:none;display:inline;" width="10"/>
                      
                        
                    </span>                    
        </div>
    <span style="height:0px;visibility:hidden;display:block;clear:both;">.</span></div>
      
        <div style="padding:20px 0px;">         
            <p style="margin:0px;padding:0px;height:14px;line-height:14px;border-left:3px solid rgb(228, 28, 30);padding-left:10px;color:rgb(102, 102, 102);font-size:14px;">版权声明：http://blog.csdn.net/anxpp</p>
        </div>

  

  
  
     

<div style="clear:both;"></div><div style="border:solid 1px #ccc;background:#eee;float:left;min-width:200px;padding:4px 10px;"><p style="margin:0;padding:0px;text-align:right;"><span style="float:left;">目录<a href="http://blog.csdn.net/anxpp/article/details/51415698#" style="text-decoration:none;" title="系统根据文章中H1到H6标签自动生成文章目录">(?)</a></span><a href="http://blog.csdn.net/anxpp/article/details/51415698#" style="text-decoration:none;" title="展开">[+]</a></p></div><div style="clear:both;"></div><div style="margin:35px 0px;font-size:15px;color:rgb(85, 85, 85);line-height:35px;">

<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
转载请注明出处：<a href="http://blog.csdn.net/anxpp/article/details/51415698" style="text-decoration:none;color:rgb(12, 137, 207);" target="_blank">http://blog.csdn.net/anxpp/article/details/51415698</a>，谢谢！</p>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    在一切开始之前，先举个简单的例子，以提高大家的兴致！</p>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    如果一张表user有三个字段，id、name和age，要查找指定姓氏在某年龄以上的user，在传统的<a href="http://lib.csdn.net/base/javaee" style="text-decoration:none;color:#df3434;font-weight:bold;" target="_blank" title="Java EE知识库">spring</a>+<a href="http://lib.csdn.net/base/javaee" style="text-decoration:none;color:#df3434;font-weight:bold;" target="_blank" title="Java EE知识库">hibernate</a>中，dao层我们是这样写的：</p>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    UserDao：</p>
<pre lang="java" style="font-family:Monaco,Courier,monospace;position:relative;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word;overflow-y:hidden;font-size:14px;padding:30px 10px 10px;overflow:hidden;color:rgb(85,85,85);background:rgb(35,36,31);" title="双击全选代码!"><ol style="padding:0px 0px 0px 10px;margin:0px;border-left-width:30px;border-left-style:solid;border-left-color:rgb(79,54,57);list-style-type:decimal-leading-zero;color:rgb(176,235,231);"><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(251,140,105);">public</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(251,140,105);">interface</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(246,105,154);">UserDao</span><span style="color:rgb(204,153,153);">{</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);">    </span><span style="color:rgb(246,105,154);">List</span><span style="color:rgb(204,153,153);">&lt;</span><span style="color:rgb(246,105,154);">User</span><span style="color:rgb(204,153,153);">&gt;</span><span style="color:rgb(198,249,131);"> findByNameLikeAndAgeGreaterThan</span><span style="color:rgb(204,153,153);">(</span><span style="color:rgb(246,105,154);">String</span><span style="color:rgb(198,249,131);"> firstName</span><span style="color:rgb(204,153,153);">,</span><span style="color:rgb(246,105,154);">Integer</span><span style="color:rgb(198,249,131);"> age</span><span style="color:rgb(204,153,153);">);</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(204,153,153);">}</span></li></ol></pre>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    UserDaoImpl（已经是相对简单的HibernateTemplate方式了）：</p>
<pre lang="java" style="font-family:Monaco,Courier,monospace;position:relative;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word;overflow-y:hidden;font-size:14px;padding:30px 10px 10px;overflow:hidden;color:rgb(85,85,85);background:rgb(35,36,31);" title="双击全选代码!"><ol style="padding:0px 0px 0px 10px;margin:0px;border-left-width:30px;border-left-style:solid;border-left-color:rgb(79,54,57);list-style-type:decimal-leading-zero;color:rgb(176,235,231);"><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(251,140,105);">public</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(251,140,105);">class</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(246,105,154);">UserDaoImpl</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(251,140,105);">implements</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(246,105,154);">UserDao</span><span style="color:rgb(204,153,153);">{</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);">    </span><span style="color:rgb(128,255,128);">@Override</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);">    </span><span style="color:rgb(251,140,105);">public</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(246,105,154);">List</span><span style="color:rgb(204,153,153);">&lt;</span><span style="color:rgb(246,105,154);">User</span><span style="color:rgb(204,153,153);">&gt;</span><span style="color:rgb(198,249,131);"> findByFirstNameAndAge</span><span style="color:rgb(204,153,153);">(</span><span style="color:rgb(246,105,154);">String</span><span style="color:rgb(198,249,131);"> firstName</span><span style="color:rgb(204,153,153);">,</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(246,105,154);">Integer</span><span style="color:rgb(198,249,131);"> age</span><span style="color:rgb(204,153,153);">)</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(204,153,153);">{</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);">        </span><span style="color:rgb(145,251,250);">//具体hql查找：&quot;from User where name like '%'&quot;+firstName + &quot;and age &gt; &quot; + age;</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);">        </span><span style="color:rgb(251,140,105);">return</span><span style="color:rgb(198,249,131);"> hibernateTemplateMysql</span><span style="color:rgb(204,153,153);">.</span><span style="color:rgb(198,249,131);">execute</span><span style="color:rgb(204,153,153);">(</span><span style="color:rgb(251,140,105);">new</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(246,105,154);">HibernateCallback</span><span style="color:rgb(204,153,153);">()</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(204,153,153);">{</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);">            </span><span style="color:rgb(128,255,128);">@Override</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);">            </span><span style="color:rgb(251,140,105);">public</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(246,105,154);">Object</span><span style="color:rgb(198,249,131);"> doInHibernate</span><span style="color:rgb(204,153,153);">(</span><span style="color:rgb(246,105,154);">Session</span><span style="color:rgb(198,249,131);"> session</span><span style="color:rgb(204,153,153);">)</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(251,140,105);">throws</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(246,105,154);">HibernateException</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(204,153,153);">{</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);">                </span><span style="color:rgb(246,105,154);">String</span><span style="color:rgb(198,249,131);"> hql </span><span style="color:rgb(204,153,153);">=</span><span style="color:rgb(198,249,131);"> </span><span>&quot;from User where name like '?' and age &gt; ?&quot;</span><span style="color:rgb(204,153,153);">;</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);">                </span><span style="color:rgb(246,105,154);">Query</span><span style="color:rgb(198,249,131);"> query </span><span style="color:rgb(204,153,153);">=</span><span style="color:rgb(198,249,131);"> session</span><span style="color:rgb(204,153,153);">.</span><span style="color:rgb(198,249,131);">createQuery</span><span style="color:rgb(204,153,153);">(</span><span style="color:rgb(198,249,131);">hql</span><span style="color:rgb(204,153,153);">);</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);">                query</span><span style="color:rgb(204,153,153);">.</span><span style="color:rgb(198,249,131);">setParameter</span><span style="color:rgb(204,153,153);">(</span><span style="color:rgb(128,255,128);">0</span><span style="color:rgb(204,153,153);">,</span><span style="color:rgb(198,249,131);"> firstName</span><span style="color:rgb(204,153,153);">+</span><span>&quot;&quot;</span><span style="color:rgb(204,153,153);">);</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);">                query</span><span style="color:rgb(204,153,153);">.</span><span style="color:rgb(198,249,131);">setParameter</span><span style="color:rgb(204,153,153);">(</span><span style="color:rgb(128,255,128);">1</span><span style="color:rgb(204,153,153);">,</span><span style="color:rgb(198,249,131);"> age</span><span style="color:rgb(204,153,153);">);</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);">                </span><span style="color:rgb(251,140,105);">return</span><span style="color:rgb(198,249,131);"> query</span><span style="color:rgb(204,153,153);">.</span><span style="color:rgb(198,249,131);">uniqueResult</span><span style="color:rgb(204,153,153);">();</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);">            </span><span style="color:rgb(204,153,153);">}</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);">        </span><span style="color:rgb(204,153,153);">});</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);">    </span><span style="color:rgb(204,153,153);">}</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(204,153,153);">}</span></li></ol></pre>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    然而，如果我们用Spring Data JPA呢：</p>
<pre lang="java" style="font-family:Monaco,Courier,monospace;position:relative;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word;overflow-y:hidden;font-size:14px;padding:30px 10px 10px;overflow:hidden;color:rgb(85,85,85);background:rgb(35,36,31);"><ol style="padding:0px 0px 0px 10px;margin:0px;border-left-width:30px;border-left-style:solid;border-left-color:rgb(79,54,57);list-style-type:decimal-leading-zero;color:rgb(176,235,231);"><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(251,140,105);">public</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(251,140,105);">interface</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(246,105,154);">UserDao</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(251,140,105);">extends</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(246,105,154);">JpaRepository</span><span style="color:rgb(204,153,153);">&lt;</span><span style="color:rgb(246,105,154);">User</span><span style="color:rgb(204,153,153);">,</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(246,105,154);">Serializable</span><span style="color:rgb(204,153,153);">&gt;{</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);">    </span><span style="color:rgb(246,105,154);">List</span><span style="color:rgb(204,153,153);">&lt;</span><span style="color:rgb(246,105,154);">User</span><span style="color:rgb(204,153,153);">&gt;</span><span style="color:rgb(198,249,131);"> findByNameLikeAndAgeGreaterThan</span><span style="color:rgb(204,153,153);">(</span><span style="color:rgb(246,105,154);">String</span><span style="color:rgb(198,249,131);"> firstName</span><span style="color:rgb(204,153,153);">,</span><span style="color:rgb(246,105,154);">Integer</span><span style="color:rgb(198,249,131);"> age</span><span style="color:rgb(204,153,153);">);</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(204,153,153);">}</span></li></ol></pre>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    对，就这样，已经没有了，连实现都不需要写的！service直接调用UserDao.findByNameLikeAndAgeGreaterThan(firstName+&quot;%&quot;,age)即可。</p>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    那么，下面就来介绍，Spring Data JPA是个什么，如何为我们简化JPA开发。</p>
<blockquote style="margin:1em 1.5em;padding-left:1.5em;border-left-width:4px;border-left-style:solid;border-left-color:rgb(242,242,242);color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;line-height:28px;">
<p style="margin:0px;padding:0px;text-indent:2em;line-height:2em;">    推荐两篇文章：</p>
<ol>
<li>        <a href="http://blog.csdn.net/anxpp/article/details/51388436" style="text-decoration:none;color:rgb(16,166,79);" target="_blank">JPA规范介绍及实例(Java数据持久化解决方案)</a></li><li>        本文重点做介绍，如果需要了解如何搭建，请参考这篇文章：<a href="http://blog.csdn.net/anxpp/article/details/51415366" style="text-decoration:none;color:rgb(16,166,79);" target="_blank">手把手教你从最基本的Java工程搭建SpringMVC+SpringDataJPA+Hibernate(含源码下载)</a>（Spring Data
 JPA详细搭建过程）</li></ol>
</blockquote>
<h2 style="margin:0px;padding:0px;font-size:1.28571em;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;line-height:28px;"><a name="t0" style="text-decoration:none;color:rgb(12, 137, 207);"></a>
1、简介</h2>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    官网：<a href="http://projects.spring.io/spring-data-jpa/" style="text-decoration:none;color:rgb(16,166,79);" target="_blank">http://projects.spring.io/spring-data-jpa/</a></p>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    Spring Data是一个用于简化<a href="http://lib.csdn.net/base/mysql" style="text-decoration:none;color:#df3434;font-weight:bold;" target="_blank" title="MySQL知识库">数据库</a>访问，并支持云服务的开源框架。其主要目标是使得对数据的访问变得方便快捷，并支持map-reduce框架和<a href="http://lib.csdn.net/base/hadoop" style="text-decoration:none;color:#df3434;font-weight:bold;" target="_blank" title="Hadoop知识库">云计算</a>数据服务。</p>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    Spring Data 包含多个子项目：</p>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    <img src="Spring ORM+Hibernate？Out！换 Spring Data JPA 吧！_files/1257144917.png" type="image/png" data-filename="1257144917.png" alt="01" height="716" style="max-width:100%;height:auto;max-height:100%;border:0px;vertical-align:middle;" title="01" width="655"/></p>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    JPA就是其中子项目之一，正如<a href="http://blog.csdn.net/anxpp/article/details/51388436" style="text-decoration:none;color:rgb(16,166,79);" target="_blank">JPA规范介绍及实例</a>中的介绍，JPA属于重量级的，因为它需要运行在<a href="http://lib.csdn.net/base/javaee" style="text-decoration:none;color:#df3434;font-weight:bold;" target="_blank" title="Java EE知识库">Java EE</a>容器中，而Spring Data JPA提供了轻量级的实现，在任何servlet容器中就可以运行。</p>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    Spring Data JPA相对于<a href="http://lib.csdn.net/base/java" style="text-decoration:none;color:#df3434;font-weight:bold;" target="_blank" title="Java 知识库">Java </a>EE中的JPA，更加简洁易用：</p>
<ol style="color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;line-height:28px;">
<li>    配置更简单。</li><li>    Spring以轻量级的方式实现了部分在 EJB 容器环境下才具有的功能。</li><li>    Spring 将 EntityManager 的创建与销毁、事务管理等代码抽取出来，并由其统一管理。</li><li>    正如前面的例子，极大的简化了数据库访问层（dao）的代码。</li></ol>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    Spring Data JPA 让一切近乎完美！Spring 对 JPA 的支持非常强大，开发者只需关心核心业务逻辑的实现代码，无需过多关注 EntityManager 的创建、事务处理等 JPA 相关的处理，这基本上也是作为一个开发框架而言所能做到的极限了。至此，开发者连仅剩的实现持久层业务逻辑的工作都省了，唯一要做的，就只是声明持久层的接口，其他都交给 Spring Data JPA 来帮你完成！</p>
<h2 style="margin:0px;padding:0px;font-size:1.28571em;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;line-height:28px;"><a name="t1" style="text-decoration:none;color:rgb(12, 137, 207);"></a>
2、开发步骤</h2>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    Spring Data JPA 进行持久层开发一般分三个步骤：</p>
<ol style="color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;line-height:28px;">
<li>    声明持久层的接口，该接口继承 Repository（或Repository的子接口，其中定义了一些常用的增删改查，以及分页相关的方法）。</li><li>    在接口中声明需要的业务方法。Spring Data 将根据给定的策略生成实现代码。</li><li>    在 Spring 配置文件中增加一行声明，让 Spring 为声明的接口创建代理对象。配置了 &lt;jpa:repositories&gt; 后，Spring 初始化容器时将会扫描 base-package 指定的包目录及其子目录，为继承 Repository 或其子接口的接口创建代理对象，并将代理对象注册为 Spring Bean，业务层便可以通过 Spring 自动封装的特性来直接使用该对象。</li></ol>
<h2 style="margin:0px;padding:0px;font-size:1.28571em;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;line-height:28px;"><a name="t2" style="text-decoration:none;color:rgb(12, 137, 207);"></a>
3、主要的接口</h2>
<ul style="color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;line-height:28px;">
<li>    Repository： 仅仅是一个标识，没有任何方法，方便Spring自动扫描识别</li><li>    CrudRepository： 继承Repository，实现了一组CRUD相关的方法</li><li>    PagingAndSortingRepository： 继承CrudRepository，实现了一组分页排序相关的方法</li><li>    JpaRepository： 继承PagingAndSortingRepository，实现一组JPA规范相关的方法</li></ul>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    （根据一个最小什么的原则，一下想不起了）我们通常优先考虑Repository接口，因为它已经足以完成大多时候的使用了，如果有更多的需求，再依次选择其子接口。</p>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    我们的dao层接口继承Repository后，如无更多需要，可以不用写任何代码，仅仅是一个空的接口就行了。</p>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    同时，也可以选择不继承接口，而使用注解方式，比如，下面两种方式是完全一样的：</p>
<pre lang="java" style="font-family:Monaco,Courier,monospace;position:relative;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word;overflow-y:hidden;font-size:14px;padding:30px 10px 10px;overflow:hidden;color:rgb(85,85,85);background:rgb(35,36,31);"><ol style="padding:0px 0px 0px 10px;margin:0px;border-left-width:30px;border-left-style:solid;border-left-color:rgb(79,54,57);list-style-type:decimal-leading-zero;color:rgb(176,235,231);"><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(251,140,105);">public</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(251,140,105);">interface</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(246,105,154);">UserDao</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(251,140,105);">extends</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(246,105,154);">Repository</span><span style="color:rgb(204,153,153);">&lt;</span><span style="color:rgb(246,105,154);">AccountInfo</span><span style="color:rgb(204,153,153);">,</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(246,105,154);">Long</span><span style="color:rgb(204,153,153);">&gt;</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(204,153,153);">{}</span><span style="color:rgb(198,249,131);"> </span></li></ol></pre>
<pre lang="java" style="font-family:Monaco,Courier,monospace;position:relative;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word;overflow-y:hidden;font-size:14px;padding:30px 10px 10px;overflow:hidden;color:rgb(85,85,85);background:rgb(35,36,31);"><ol style="padding:0px 0px 0px 10px;margin:0px;border-left-width:30px;border-left-style:solid;border-left-color:rgb(79,54,57);list-style-type:decimal-leading-zero;color:rgb(176,235,231);"><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(128,255,128);">@RepositoryDefinition</span><span style="color:rgb(204,153,153);">(</span><span style="color:rgb(198,249,131);">domainClass </span><span style="color:rgb(204,153,153);">=</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(246,105,154);">AccountInfo</span><span style="color:rgb(204,153,153);">.</span><span style="color:rgb(251,140,105);">class</span><span style="color:rgb(204,153,153);">,</span><span style="color:rgb(198,249,131);"> idClass </span><span style="color:rgb(204,153,153);">=</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(246,105,154);">Long</span><span style="color:rgb(204,153,153);">.</span><span style="color:rgb(251,140,105);">class</span><span style="color:rgb(204,153,153);">)</span><span style="color:rgb(198,249,131);"> </span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(251,140,105);">public</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(251,140,105);">interface</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(246,105,154);">UserDao</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(204,153,153);">{}</span><span style="color:rgb(198,249,131);"> </span></li></ol></pre>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
 </p>
<h2 style="margin:0px;padding:0px;font-size:1.28571em;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;line-height:28px;"><a name="t3" style="text-decoration:none;color:rgb(12, 137, 207);"></a>
4、创建查询的方法</h2>
<h3 style="margin:0px;padding:0px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;line-height:28px;"><a name="t4" style="text-decoration:none;color:rgb(12, 137, 207);"></a>
    4.1、Query creation from method names（解析方法名）</h3>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    如文首例子中的 findByNameLikeAndAgeGreaterThan(String firstName,Integer age) 方法一样，我们从方法名就知道想要做什么，而此时，Spring也知道... 所以它为我们创建了对应的查询，而不需要我们多些一段代码。如何做到的呢：</p>
<blockquote style="margin:1em 1.5em;padding-left:1.5em;border-left-width:4px;border-left-style:solid;border-left-color:rgb(242,242,242);color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;line-height:28px;">
<p style="margin:0px;padding:0px;text-indent:2em;line-height:2em;">    框架在进行方法名解析时，会先把方法名多余的前缀截取掉，比如 find、findBy、read、readBy、get、getBy，然后对剩下部分进行解析。并且如果方法的最后一个参数是 Sort 或者 Pageable 类型，也会提取相关的信息，以便按规则进行排序或者分页查询。</p>
</blockquote>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    如上面的findByNameLikeAndAgeGreaterThan，解析步骤如下：</p>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    1、剔除findBy</p>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    2、先判断 nameLikeAndAgeGreaterThan（根据 POJO 规范，首字母变为小写）是否为 User 的一个属性，如果是，则表示根据该属性进行查询；如果没有该属性，则进行下一步。</p>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    3、从右往左截取第一个大写字母开头的字符串（此处为Than），然后检查剩下的字符串是否为 User 的一个属性，如果是，则表示根据该属性进行查询；如果没有该属性，则重复第2步，继续从右往左截取；知道找出 name 为 User 的属性。</p>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    4、从已截取的部分后面开始，重新从第1步开始（剔除条件语句），循环忘后，直到整个方法名处理完毕。</p>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    5、通过获取的操作、条件和属性，带入参数的值，生成查询。</p>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    在查询时，通常需要同时根据多个属性进行查询，提供的一些表达条件查询的关键字完整的表：</p>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    <img src="Spring ORM+Hibernate？Out！换 Spring Data JPA 吧！_files/2236906168.png" type="image/png" data-filename="2236906168.png" alt="02" height="616" style="max-width:100%;height:auto;max-height:100%;border:0px;vertical-align:middle;" title="02" width="779"/></p>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    如果截取的时候，因为Entity的一些属性刚好碰到有歧义的时候，这种方式的可读性就不是太好了。</p>
<h3 style="margin:0px;padding:0px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;line-height:28px;"><a name="t5" style="text-decoration:none;color:rgb(12, 137, 207);"></a>
    4.2、通过 @Query 创建查询</h3>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    如果想要更好的可读性，使用@Query 创建查询也是一种很好的方法。</p>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    比如文首的例子，我们可以这样改写：</p>
<pre lang="java" style="font-family:Monaco,Courier,monospace;position:relative;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word;overflow-y:hidden;font-size:14px;padding:30px 10px 10px;overflow:hidden;color:rgb(85,85,85);background:rgb(35,36,31);"><ol style="padding:0px 0px 0px 10px;margin:0px;border-left-width:30px;border-left-style:solid;border-left-color:rgb(79,54,57);list-style-type:decimal-leading-zero;color:rgb(176,235,231);"><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(251,140,105);">public</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(251,140,105);">interface</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(246,105,154);">UserDao</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(251,140,105);">extends</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(246,105,154);">JpaRepository</span><span style="color:rgb(204,153,153);">&lt;</span><span style="color:rgb(246,105,154);">User</span><span style="color:rgb(204,153,153);">,</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(246,105,154);">Serializable</span><span style="color:rgb(204,153,153);">&gt;{</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(128,255,128);">@Query</span><span style="color:rgb(204,153,153);">(</span><span>&quot;select * from User u where u.name like ?1 and u.age&gt;?2&quot;</span><span style="color:rgb(204,153,153);">)</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);">    </span><span style="color:rgb(246,105,154);">List</span><span style="color:rgb(204,153,153);">&lt;</span><span style="color:rgb(246,105,154);">User</span><span style="color:rgb(204,153,153);">&gt;</span><span style="color:rgb(198,249,131);"> findByNameLikeAndAgeGreaterThan</span><span style="color:rgb(204,153,153);">(</span><span style="color:rgb(246,105,154);">String</span><span style="color:rgb(198,249,131);"> firstName</span><span style="color:rgb(204,153,153);">,</span><span style="color:rgb(246,105,154);">Integer</span><span style="color:rgb(198,249,131);"> age</span><span style="color:rgb(204,153,153);">);</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(204,153,153);">}</span></li></ol></pre>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    出了使用?+数字的方式代替参数，还可以使用如下方式：</p>
<pre lang="java" style="font-family:Monaco,Courier,monospace;position:relative;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word;overflow-y:hidden;font-size:14px;padding:30px 10px 10px;overflow:hidden;color:rgb(85,85,85);background:rgb(35,36,31);"><ol style="padding:0px 0px 0px 10px;margin:0px;border-left-width:30px;border-left-style:solid;border-left-color:rgb(79,54,57);list-style-type:decimal-leading-zero;color:rgb(176,235,231);"><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(251,140,105);">public</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(251,140,105);">interface</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(246,105,154);">UserDao</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(251,140,105);">extends</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(246,105,154);">JpaRepository</span><span style="color:rgb(204,153,153);">&lt;</span><span style="color:rgb(246,105,154);">User</span><span style="color:rgb(204,153,153);">,</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(246,105,154);">Serializable</span><span style="color:rgb(204,153,153);">&gt;{</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);">    </span><span style="color:rgb(128,255,128);">@Query</span><span style="color:rgb(204,153,153);">(</span><span>&quot;select * from User u where u.name like :first and u.age&gt;:age&quot;</span><span style="color:rgb(204,153,153);">)</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);">    </span><span style="color:rgb(246,105,154);">List</span><span style="color:rgb(204,153,153);">&lt;</span><span style="color:rgb(246,105,154);">User</span><span style="color:rgb(204,153,153);">&gt;</span><span style="color:rgb(198,249,131);"> findByNameLikeAndAgeGreaterThan</span><span style="color:rgb(204,153,153);">(</span><span style="color:rgb(128,255,128);">@Param</span><span style="color:rgb(204,153,153);">(</span><span>&quot;first&quot;</span><span style="color:rgb(204,153,153);">)</span><span style="color:rgb(246,105,154);">String</span><span style="color:rgb(198,249,131);"> firstName</span><span style="color:rgb(204,153,153);">,</span><span style="color:rgb(128,255,128);">@Param</span><span style="color:rgb(204,153,153);">(</span><span>&quot;age&quot;</span><span style="color:rgb(204,153,153);">)</span><span style="color:rgb(246,105,154);">Integer</span><span style="color:rgb(198,249,131);"> age</span><span style="color:rgb(204,153,153);">);</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(204,153,153);">}</span></li></ol></pre>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    @Query 也可以用来修改和删除等，加上@Modifying即可：</p>
<pre lang="java" style="font-family:Monaco,Courier,monospace;position:relative;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word;overflow-y:hidden;font-size:14px;padding:30px 10px 10px;overflow:hidden;color:rgb(85,85,85);background:rgb(35,36,31);"><ol style="padding:0px 0px 0px 10px;margin:0px;border-left-width:30px;border-left-style:solid;border-left-color:rgb(79,54,57);list-style-type:decimal-leading-zero;color:rgb(176,235,231);"><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(128,255,128);">@Modifying</span><span style="color:rgb(198,249,131);"> </span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(128,255,128);">@Query</span><span style="color:rgb(204,153,153);">(</span><span>&quot;update User u set u.name = ?1 where u.id = ?2&quot;</span><span style="color:rgb(204,153,153);">)</span><span style="color:rgb(198,249,131);"> </span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(251,140,105);">public</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(251,140,105);">int</span><span style="color:rgb(198,249,131);"> increaseSalary</span><span style="color:rgb(204,153,153);">(</span><span style="color:rgb(246,105,154);">String</span><span style="color:rgb(198,249,131);"> name</span><span style="color:rgb(204,153,153);">,</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(251,140,105);">int</span><span style="color:rgb(198,249,131);"> id</span><span style="color:rgb(204,153,153);">);</span></li></ol></pre>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
     可以如下加上参数以使用原生查询：</p>
<pre lang="java" style="font-family:Monaco,Courier,monospace;position:relative;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word;overflow-y:hidden;font-size:14px;padding:30px 10px 10px;overflow:hidden;color:rgb(85,85,85);background:rgb(35,36,31);"><ol style="padding:0px 0px 0px 10px;margin:0px;border-left-width:30px;border-left-style:solid;border-left-color:rgb(79,54,57);list-style-type:decimal-leading-zero;color:rgb(176,235,231);"><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(251,140,105);">public</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(251,140,105);">interface</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(246,105,154);">UserRepository</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(251,140,105);">extends</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(246,105,154);">JpaRepository</span><span style="color:rgb(204,153,153);">&lt;</span><span style="color:rgb(246,105,154);">User</span><span style="color:rgb(204,153,153);">,</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(246,105,154);">Long</span><span style="color:rgb(204,153,153);">&gt;</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(204,153,153);">{</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);">  </span><span style="color:rgb(128,255,128);">@Query</span><span style="color:rgb(204,153,153);">(</span><span style="color:rgb(198,249,131);">value </span><span style="color:rgb(204,153,153);">=</span><span style="color:rgb(198,249,131);"> </span><span>&quot;SELECT * FROM USERS WHERE EMAIL_ADDRESS = ?1&quot;</span><span style="color:rgb(204,153,153);">,</span><span style="color:rgb(198,249,131);"> nativeQuery </span><span style="color:rgb(204,153,153);">=</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(251,140,105);">true</span><span style="color:rgb(204,153,153);">)</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);">  </span><span style="color:rgb(246,105,154);">User</span><span style="color:rgb(198,249,131);"> findByEmailAddress</span><span style="color:rgb(204,153,153);">(</span><span style="color:rgb(246,105,154);">String</span><span style="color:rgb(198,249,131);"> emailAddress</span><span style="color:rgb(204,153,153);">);</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(204,153,153);">}</span></li></ol></pre>
<h3 style="margin:0px;padding:0px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;line-height:28px;"><a name="t6" style="text-decoration:none;color:rgb(12, 137, 207);"></a>
    4.3、JPA NamedQueries（命名查询）</h3>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    有两种方式，一是通过xml配置：</p>
<pre lang="xml" style="font-family:Monaco,Courier,monospace;position:relative;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word;overflow-y:hidden;font-size:14px;padding:30px 10px 10px;overflow:hidden;color:rgb(85,85,85);background:rgb(35,36,31);"><ol style="padding:0px 0px 0px 10px;margin:0px;border-left-width:30px;border-left-style:solid;border-left-color:rgb(79,54,57);list-style-type:decimal-leading-zero;color:rgb(176,235,231);"><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(0,150,219);">&lt;named-query</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(255,204,51);">name</span><span style="color:rgb(204,153,153);">=</span><span style="color:rgb(128,255,128);">&quot;User.findByLastname&quot;</span><span style="color:rgb(0,150,219);">&gt;</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);">  </span><span style="color:rgb(0,150,219);">&lt;query&gt;</span><span style="color:rgb(198,249,131);">select u from User u where u.lastname = ?1</span><span style="color:rgb(0,150,219);">&lt;/query&gt;</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(0,150,219);">&lt;/named-query&gt;</span></li></ol></pre>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    另一种是通过注解：</p>
<pre lang="java" style="font-family:Monaco,Courier,monospace;position:relative;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word;overflow-y:hidden;font-size:14px;padding:30px 10px 10px;overflow:hidden;color:rgb(85,85,85);background:rgb(35,36,31);"><ol style="padding:0px 0px 0px 10px;margin:0px;border-left-width:30px;border-left-style:solid;border-left-color:rgb(79,54,57);list-style-type:decimal-leading-zero;color:rgb(176,235,231);"><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(128,255,128);">@Entity</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(128,255,128);">@NamedQuery</span><span style="color:rgb(204,153,153);">(</span><span style="color:rgb(198,249,131);">name </span><span style="color:rgb(204,153,153);">=</span><span style="color:rgb(198,249,131);"> </span><span>&quot;User.findByEmailAddress&quot;</span><span style="color:rgb(204,153,153);">,</span><span style="color:rgb(198,249,131);">query </span><span style="color:rgb(204,153,153);">=</span><span style="color:rgb(198,249,131);"> </span><span>&quot;select u from User u where u.emailAddress = ?1&quot;</span><span style="color:rgb(204,153,153);">)</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(251,140,105);">public</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(251,140,105);">class</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(246,105,154);">User</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(204,153,153);">{}</span></li></ol></pre>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    如果要使用上面编写的两个查询，只需要dao层接口生命方法即可：</p>
<pre lang="java" style="font-family:Monaco,Courier,monospace;position:relative;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word;overflow-y:hidden;font-size:14px;padding:30px 10px 10px;overflow:hidden;color:rgb(85,85,85);background:rgb(35,36,31);"><ol style="padding:0px 0px 0px 10px;margin:0px;border-left-width:30px;border-left-style:solid;border-left-color:rgb(79,54,57);list-style-type:decimal-leading-zero;color:rgb(176,235,231);"><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(251,140,105);">public</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(251,140,105);">interface</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(246,105,154);">UserDao</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(251,140,105);">extends</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(246,105,154);">JpaRepository</span><span style="color:rgb(204,153,153);">&lt;</span><span style="color:rgb(246,105,154);">User</span><span style="color:rgb(204,153,153);">,</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(246,105,154);">Long</span><span style="color:rgb(204,153,153);">&gt;</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(204,153,153);">{</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);">  </span><span style="color:rgb(246,105,154);">List</span><span style="color:rgb(204,153,153);">&lt;</span><span style="color:rgb(246,105,154);">User</span><span style="color:rgb(204,153,153);">&gt;</span><span style="color:rgb(198,249,131);"> findByLastname</span><span style="color:rgb(204,153,153);">(</span><span style="color:rgb(246,105,154);">String</span><span style="color:rgb(198,249,131);"> lastname</span><span style="color:rgb(204,153,153);">);</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);">  </span><span style="color:rgb(246,105,154);">User</span><span style="color:rgb(198,249,131);"> findByEmailAddress</span><span style="color:rgb(204,153,153);">(</span><span style="color:rgb(246,105,154);">String</span><span style="color:rgb(198,249,131);"> emailAddress</span><span style="color:rgb(204,153,153);">);</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(204,153,153);">}</span></li></ol></pre>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    对于查询的创建，会有限查找是否有命名查询，而不是根据方法名创建查询。</p>
<h3 style="margin:0px;padding:0px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;line-height:28px;"><a name="t7" style="text-decoration:none;color:rgb(12, 137, 207);"></a>
    4.4、查询创建策略</h3>
<ul style="color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;line-height:28px;">
<li>    CREATE：企图建构从查询方法名特定存储查询。在一般的方法是从该方法名中移除一组特定前缀和解析方法的其余部分。其他两种创建查询的方法会被忽略。</li><li>    USE_DECLARED_QUERY：如果方法通过 @Query 指定了查询语句，则使用该语句实现查询；如果没有，则查找是否定义了符合条件的命名查询，如果找到，则使用该命名查询；如果两者都没有找到，则抛出异常。</li><li>    CREATE_IF_NOT_FOUND（默认）：如果方法通过 @Query 指定了查询语句，则使用该语句实现查询；如果没有，则查找是否定义了符合条件的命名查询，如果找到，则使用该命名查询；如果两者都没有找到，则通过解析方法名字来创建查询。</li></ul>
<h3 style="margin:0px;padding:0px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;line-height:28px;"><a name="t8" style="text-decoration:none;color:rgb(12, 137, 207);"></a>
    4.5、为接口中部分方法提供自定义实现</h3>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    虽然 Spring Data JPA 已为我们提供了如此强大的功能，但有时候，可能我们还是希望能自定义一些查询的实现。</p>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    自定义实现一般又两种方法：</p>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    方法一：</p>
<ul style="color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;line-height:28px;">
<li>    将需要手动实现的方法从持久层接口（比如 UserDao ）中抽取出来，独立成一个新的接口（比如 UserDaoMore ），并让 UserDao 继承 UserDaoMore</li><li>    为 UserDaoMore 提供自定义实现（比如 UserDaoMoreImpl ）</li><li>    将 UserDaoMoreImpl 配置为 Spring Bean</li><li>    在 &lt;jpa:repositories&gt; 中如下配置：</li></ul>
<pre lang="xml" style="font-family:Monaco,Courier,monospace;position:relative;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word;overflow-y:hidden;font-size:14px;padding:30px 10px 10px;overflow:hidden;color:rgb(85,85,85);background:rgb(35,36,31);"><ol style="padding:0px 0px 0px 10px;margin:0px;border-left-width:30px;border-left-style:solid;border-left-color:rgb(79,54,57);list-style-type:decimal-leading-zero;color:rgb(176,235,231);"><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(0,150,219);">&lt;jpa:repositories</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(255,204,51);">base-package</span><span style="color:rgb(204,153,153);">=</span><span style="color:rgb(128,255,128);">&quot;com.anxpp.demo.core.dao&quot;</span><span style="color:rgb(0,150,219);">&gt;</span><span style="color:rgb(198,249,131);"> </span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);">    </span><span style="color:rgb(0,150,219);">&lt;jpa:repository</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(255,204,51);">id</span><span style="color:rgb(204,153,153);">=</span><span style="color:rgb(128,255,128);">&quot;UserDao&quot;</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(255,204,51);">repository-impl-ref</span><span style="color:rgb(204,153,153);">=</span><span style="color:rgb(128,255,128);">&quot; UserDaoMore&quot;</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(0,150,219);">/&gt;</span><span style="color:rgb(198,249,131);"> </span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(0,150,219);">&lt;/jpa:repositories&gt;</span><span style="color:rgb(198,249,131);"> </span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(0,150,219);">&lt;bean</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(255,204,51);">id</span><span style="color:rgb(204,153,153);">=</span><span style="color:rgb(128,255,128);">&quot;UserDaoMore&quot;</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(255,204,51);">class</span><span style="color:rgb(204,153,153);">=</span><span style="color:rgb(128,255,128);">&quot;...&quot;</span><span style="color:rgb(0,150,219);">/&gt;</span></li></ol></pre>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    方法二：</p>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    设置自动查找时默认的自定义实现类命名规则，用以指定实现类的后缀：</p>
<pre lang="bash" style="font-family:Monaco,Courier,monospace;position:relative;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word;overflow-y:hidden;font-size:14px;padding:30px 10px 10px;overflow:hidden;color:rgb(85,85,85);background:rgb(35,36,31);"><ol style="padding:0px 0px 0px 10px;margin:0px;border-left-width:30px;border-left-style:solid;border-left-color:rgb(79,54,57);list-style-type:decimal-leading-zero;color:rgb(176,235,231);"><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(0,150,219);">&lt;jpa:repositories</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(255,204,51);">base-package</span><span style="color:rgb(204,153,153);">=</span><span style="color:rgb(128,255,128);">&quot;com.anxpp.demo.core.dao&quot;</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(255,204,51);">repository-impl-postfix</span><span style="color:rgb(204,153,153);">=</span><span style="color:rgb(128,255,128);">&quot;Impl&quot;</span><span style="color:rgb(0,150,219);">/&gt;</span></li></ol></pre>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    在框架扫描到 UserDao 接口时，它将尝试在相同的包目录下查找 UserDaoImpl.<a href="http://lib.csdn.net/base/javase" style="text-decoration:none;color:#df3434;font-weight:bold;" target="_blank" title="Java SE知识库">Java</a>，如果找到，便将其中的实现方法作为最终生成的代理类中相应方法的实现。</p>
<h2 style="margin:0px;padding:0px;font-size:1.28571em;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;line-height:28px;"><a name="t9" style="text-decoration:none;color:rgb(12, 137, 207);"></a>
5、调用存储过程</h2>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    如果需要调用存储过程，可以通过如下方式：</p>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    首先在实体上定义：</p>
<pre lang="java" style="font-family:Monaco,Courier,monospace;position:relative;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word;overflow-y:hidden;font-size:14px;padding:30px 10px 10px;overflow:hidden;color:rgb(85,85,85);background:rgb(35,36,31);"><ol style="padding:0px 0px 0px 10px;margin:0px;border-left-width:30px;border-left-style:solid;border-left-color:rgb(79,54,57);list-style-type:decimal-leading-zero;color:rgb(176,235,231);"><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(128,255,128);">@Entity</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(128,255,128);">@NamedStoredProcedureQuery</span><span style="color:rgb(204,153,153);">(</span><span style="color:rgb(198,249,131);">name </span><span style="color:rgb(204,153,153);">=</span><span style="color:rgb(198,249,131);"> </span><span>&quot;User.plus1&quot;</span><span style="color:rgb(204,153,153);">,</span><span style="color:rgb(198,249,131);"> procedureName </span><span style="color:rgb(204,153,153);">=</span><span style="color:rgb(198,249,131);"> </span><span>&quot;plus1inout&quot;</span><span style="color:rgb(204,153,153);">,</span><span style="color:rgb(198,249,131);"> parameters </span><span style="color:rgb(204,153,153);">=</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(204,153,153);">{</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);">  </span><span style="color:rgb(128,255,128);">@StoredProcedureParameter</span><span style="color:rgb(204,153,153);">(</span><span style="color:rgb(198,249,131);">mode </span><span style="color:rgb(204,153,153);">=</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(246,105,154);">ParameterMode</span><span style="color:rgb(204,153,153);">.</span><span style="color:rgb(198,249,131);">IN</span><span style="color:rgb(204,153,153);">,</span><span style="color:rgb(198,249,131);"> name </span><span style="color:rgb(204,153,153);">=</span><span style="color:rgb(198,249,131);"> </span><span>&quot;arg&quot;</span><span style="color:rgb(204,153,153);">,</span><span style="color:rgb(198,249,131);"> type </span><span style="color:rgb(204,153,153);">=</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(246,105,154);">Integer</span><span style="color:rgb(204,153,153);">.</span><span style="color:rgb(251,140,105);">class</span><span style="color:rgb(204,153,153);">),</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);">  </span><span style="color:rgb(128,255,128);">@StoredProcedureParameter</span><span style="color:rgb(204,153,153);">(</span><span style="color:rgb(198,249,131);">mode </span><span style="color:rgb(204,153,153);">=</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(246,105,154);">ParameterMode</span><span style="color:rgb(204,153,153);">.</span><span style="color:rgb(198,249,131);">OUT</span><span style="color:rgb(204,153,153);">,</span><span style="color:rgb(198,249,131);"> name </span><span style="color:rgb(204,153,153);">=</span><span style="color:rgb(198,249,131);"> </span><span>&quot;res&quot;</span><span style="color:rgb(204,153,153);">,</span><span style="color:rgb(198,249,131);"> type </span><span style="color:rgb(204,153,153);">=</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(246,105,154);">Integer</span><span style="color:rgb(204,153,153);">.</span><span style="color:rgb(251,140,105);">class</span><span style="color:rgb(204,153,153);">)</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(204,153,153);">})</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(251,140,105);">public</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(251,140,105);">class</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(246,105,154);">User</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(204,153,153);">{}</span></li></ol></pre>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    显示的调用存储过程：</p>
<pre lang="java" style="font-family:Monaco,Courier,monospace;position:relative;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word;overflow-y:hidden;font-size:14px;padding:30px 10px 10px;overflow:hidden;color:rgb(85,85,85);background:rgb(35,36,31);"><ol style="padding:0px 0px 0px 10px;margin:0px;border-left-width:30px;border-left-style:solid;border-left-color:rgb(79,54,57);list-style-type:decimal-leading-zero;color:rgb(176,235,231);"><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(128,255,128);">@Procedure</span><span style="color:rgb(204,153,153);">(</span><span>&quot;plus1inout&quot;</span><span style="color:rgb(204,153,153);">)</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(246,105,154);">Integer</span><span style="color:rgb(198,249,131);"> explicitlyNamedPlus1inout</span><span style="color:rgb(204,153,153);">(</span><span style="color:rgb(246,105,154);">Integer</span><span style="color:rgb(198,249,131);"> arg</span><span style="color:rgb(204,153,153);">);</span></li></ol></pre>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    通过别名隐示的调用：</p>
<pre lang="java" style="font-family:Monaco,Courier,monospace;position:relative;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word;overflow-y:hidden;font-size:14px;padding:30px 10px 10px;overflow:hidden;color:rgb(85,85,85);background:rgb(35,36,31);" title="双击全选代码!"><ol style="padding:0px 0px 0px 10px;margin:0px;border-left-width:30px;border-left-style:solid;border-left-color:rgb(79,54,57);list-style-type:decimal-leading-zero;color:rgb(176,235,231);"><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(128,255,128);">@Procedure</span><span style="color:rgb(204,153,153);">(</span><span>&quot;plus1inout&quot;</span><span style="color:rgb(204,153,153);">)</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(246,105,154);">Integer</span><span style="color:rgb(198,249,131);"> explicitlyNamedPlus1inout</span><span style="color:rgb(204,153,153);">(</span><span style="color:rgb(246,105,154);">Integer</span><span style="color:rgb(198,249,131);"> arg</span><span style="color:rgb(204,153,153);">);</span></li></ol></pre>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    或者通过实体的注解调用：</p>
<pre lang="java" style="font-family:Monaco,Courier,monospace;position:relative;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word;overflow-y:hidden;font-size:14px;padding:30px 10px 10px;overflow:hidden;color:rgb(85,85,85);background:rgb(35,36,31);"><ol style="padding:0px 0px 0px 10px;margin:0px;border-left-width:30px;border-left-style:solid;border-left-color:rgb(79,54,57);list-style-type:decimal-leading-zero;color:rgb(176,235,231);"><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(128,255,128);">@Procedure</span><span style="color:rgb(204,153,153);">(</span><span style="color:rgb(198,249,131);">name </span><span style="color:rgb(204,153,153);">=</span><span style="color:rgb(198,249,131);"> </span><span>&quot;User.plus1IO&quot;</span><span style="color:rgb(204,153,153);">)</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(246,105,154);">Integer</span><span style="color:rgb(198,249,131);"> entityAnnotatedCustomNamedProcedurePlus1IO</span><span style="color:rgb(204,153,153);">(</span><span style="color:rgb(128,255,128);">@Param</span><span style="color:rgb(204,153,153);">(</span><span>&quot;arg&quot;</span><span style="color:rgb(204,153,153);">)</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(246,105,154);">Integer</span><span style="color:rgb(198,249,131);"> arg</span><span style="color:rgb(204,153,153);">);</span></li></ol></pre>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    以及通过方法名的隐示调用：</p>
<pre lang="java" style="font-family:Monaco,Courier,monospace;position:relative;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word;overflow-y:hidden;font-size:14px;padding:30px 10px 10px;overflow:hidden;color:rgb(85,85,85);background:rgb(35,36,31);"><ol style="padding:0px 0px 0px 10px;margin:0px;border-left-width:30px;border-left-style:solid;border-left-color:rgb(79,54,57);list-style-type:decimal-leading-zero;color:rgb(176,235,231);"><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(246,105,154);">Procedure</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(246,105,154);">Integer</span><span style="color:rgb(198,249,131);"> plus1</span><span style="color:rgb(204,153,153);">(</span><span style="color:rgb(128,255,128);">@Param</span><span style="color:rgb(204,153,153);">(</span><span>&quot;arg&quot;</span><span style="color:rgb(204,153,153);">)</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(246,105,154);">Integer</span><span style="color:rgb(198,249,131);"> arg</span><span style="color:rgb(204,153,153);">);</span></li></ol></pre>
<h2 style="margin:0px;padding:0px;font-size:1.28571em;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;line-height:28px;"><a name="t10" style="text-decoration:none;color:rgb(12, 137, 207);"></a>
6、Query by Example</h2>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    Example API 主要由三部分组成：</p>
<ul style="color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;line-height:28px;">
<li>    Probe: That is the actual example of a domain object with populated fields.</li><li>    ExampleMatcher: The ExampleMatcher carries details on how to match particular fields. It can be reused across multiple Examples.</li><li>    Example: An Example consists of the probe and the ExampleMatcher. It is used to create the query.</li></ul>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    何时使用：</p>
<ul style="color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;line-height:28px;">
<li>    查询您的数据存储与一组静态或动态约束</li><li>    可以对对象频繁的重构，而无需担心破坏现有的查询</li><li>    从底层数据存储API独立工作</li></ul>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    限制：</p>
<ul style="color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;line-height:28px;">
<li>    查询谓词使用and连接</li><li>    不支持条件嵌套（如 firstname = ?0 or (firstname = ?1 and lastname = ?2)）</li><li>    starts/contains/ends/regex 仅支持 String类型，exact 仅支持其他类型。</li></ul>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    示例实体：</p>
<pre lang="java" style="font-family:Monaco,Courier,monospace;position:relative;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word;overflow-y:hidden;font-size:14px;padding:30px 10px 10px;overflow:hidden;color:rgb(85,85,85);background:rgb(35,36,31);"><ol style="padding:0px 0px 0px 10px;margin:0px;border-left-width:30px;border-left-style:solid;border-left-color:rgb(79,54,57);list-style-type:decimal-leading-zero;color:rgb(176,235,231);"><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(251,140,105);">public</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(251,140,105);">class</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(246,105,154);">Person</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(204,153,153);">{</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);">  </span><span style="color:rgb(128,255,128);">@Id</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);">  </span><span style="color:rgb(251,140,105);">private</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(246,105,154);">String</span><span style="color:rgb(198,249,131);"> id</span><span style="color:rgb(204,153,153);">;</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);">  </span><span style="color:rgb(251,140,105);">private</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(246,105,154);">String</span><span style="color:rgb(198,249,131);"> firstname</span><span style="color:rgb(204,153,153);">;</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);">  </span><span style="color:rgb(251,140,105);">private</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(246,105,154);">String</span><span style="color:rgb(198,249,131);"> lastname</span><span style="color:rgb(204,153,153);">;</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);">  </span><span style="color:rgb(251,140,105);">private</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(246,105,154);">Address</span><span style="color:rgb(198,249,131);"> address</span><span style="color:rgb(204,153,153);">;</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);">  </span><span style="color:rgb(145,251,250);">// … getters and setters omitted</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(204,153,153);">}</span></li></ol></pre>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    这一块暂时不忙研究了...  感觉写完睡觉了，有时间再好好看看。我猜有点像享元模式，不过扩展了很多东西。</p>
<h2 style="margin:0px;padding:0px;font-size:1.28571em;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;line-height:28px;"><a name="t11" style="text-decoration:none;color:rgb(12, 137, 207);"></a>
7、事务</h2>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    默认情况下，Spring Data JPA 实现的方法都是使用事务的。</p>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    针对查询类型的方法，其等价于 @Transactional(readOnly=true)。</p>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    增删改类型的方法，等价于 @Transactional。可以看出，除了将查询的方法设为只读事务外，其他事务属性均采用默认值。</p>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    也可以自定义事务：</p>
<pre lang="bash" style="font-family:Monaco,Courier,monospace;position:relative;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word;overflow-y:hidden;font-size:14px;padding:30px 10px 10px;overflow:hidden;color:rgb(85,85,85);background:rgb(35,36,31);"><ol style="padding:0px 0px 0px 10px;margin:0px;border-left-width:30px;border-left-style:solid;border-left-color:rgb(79,54,57);list-style-type:decimal-leading-zero;color:rgb(176,235,231);"><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(251,140,105);">public</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(251,140,105);">interface</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(246,105,154);">UserRepository</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(251,140,105);">extends</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(246,105,154);">CrudRepository</span><span style="color:rgb(204,153,153);">&lt;</span><span style="color:rgb(246,105,154);">User</span><span style="color:rgb(204,153,153);">,</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(246,105,154);">Long</span><span style="color:rgb(204,153,153);">&gt;</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(204,153,153);">{</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);">  </span><span style="color:rgb(128,255,128);">@Override</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);">  </span><span style="color:rgb(128,255,128);">@Transactional</span><span style="color:rgb(204,153,153);">(</span><span style="color:rgb(198,249,131);">timeout </span><span style="color:rgb(204,153,153);">=</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(128,255,128);">10</span><span style="color:rgb(204,153,153);">)</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);">  </span><span style="color:rgb(251,140,105);">public</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(246,105,154);">List</span><span style="color:rgb(204,153,153);">&lt;</span><span style="color:rgb(246,105,154);">User</span><span style="color:rgb(204,153,153);">&gt;</span><span style="color:rgb(198,249,131);"> findAll</span><span style="color:rgb(204,153,153);">();</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(204,153,153);">}</span></li></ol></pre>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    可以将事务注解到service的一个方法上：</p>
<pre lang="java" style="font-family:Monaco,Courier,monospace;position:relative;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word;overflow-y:hidden;font-size:14px;padding:30px 10px 10px;overflow:hidden;color:rgb(85,85,85);background:rgb(35,36,31);"><ol style="padding:0px 0px 0px 10px;margin:0px;border-left-width:30px;border-left-style:solid;border-left-color:rgb(79,54,57);list-style-type:decimal-leading-zero;color:rgb(176,235,231);"><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(128,255,128);">@Service</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(251,140,105);">class</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(246,105,154);">UserManagementImpl</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(251,140,105);">implements</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(246,105,154);">UserManagement</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(204,153,153);">{</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);">  </span><span style="color:rgb(251,140,105);">private</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(251,140,105);">final</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(246,105,154);">UserRepository</span><span style="color:rgb(198,249,131);"> userRepository</span><span style="color:rgb(204,153,153);">;</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);">  </span><span style="color:rgb(251,140,105);">private</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(251,140,105);">final</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(246,105,154);">RoleRepository</span><span style="color:rgb(198,249,131);"> roleRepository</span><span style="color:rgb(204,153,153);">;</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);">  </span><span style="color:rgb(128,255,128);">@Autowired</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);">  </span><span style="color:rgb(251,140,105);">public</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(246,105,154);">UserManagementImpl</span><span style="color:rgb(204,153,153);">(</span><span style="color:rgb(246,105,154);">UserRepository</span><span style="color:rgb(198,249,131);"> userRepository</span><span style="color:rgb(204,153,153);">,</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);">    </span><span style="color:rgb(246,105,154);">RoleRepository</span><span style="color:rgb(198,249,131);"> roleRepository</span><span style="color:rgb(204,153,153);">)</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(204,153,153);">{</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);">    </span><span style="color:rgb(251,140,105);">this</span><span style="color:rgb(204,153,153);">.</span><span style="color:rgb(198,249,131);">userRepository </span><span style="color:rgb(204,153,153);">=</span><span style="color:rgb(198,249,131);"> userRepository</span><span style="color:rgb(204,153,153);">;</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);">    </span><span style="color:rgb(251,140,105);">this</span><span style="color:rgb(204,153,153);">.</span><span style="color:rgb(198,249,131);">roleRepository </span><span style="color:rgb(204,153,153);">=</span><span style="color:rgb(198,249,131);"> roleRepository</span><span style="color:rgb(204,153,153);">;</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);">  </span><span style="color:rgb(204,153,153);">}</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);">  </span><span style="color:rgb(128,255,128);">@Transactional</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);">  </span><span style="color:rgb(251,140,105);">public</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(251,140,105);">void</span><span style="color:rgb(198,249,131);"> addRoleToAllUsers</span><span style="color:rgb(204,153,153);">(</span><span style="color:rgb(246,105,154);">String</span><span style="color:rgb(198,249,131);"> roleName</span><span style="color:rgb(204,153,153);">)</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(204,153,153);">{</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);">    </span><span style="color:rgb(246,105,154);">Role</span><span style="color:rgb(198,249,131);"> role </span><span style="color:rgb(204,153,153);">=</span><span style="color:rgb(198,249,131);"> roleRepository</span><span style="color:rgb(204,153,153);">.</span><span style="color:rgb(198,249,131);">findByName</span><span style="color:rgb(204,153,153);">(</span><span style="color:rgb(198,249,131);">roleName</span><span style="color:rgb(204,153,153);">);</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);">    </span><span style="color:rgb(251,140,105);">for</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(204,153,153);">(</span><span style="color:rgb(246,105,154);">User</span><span style="color:rgb(198,249,131);"> user </span><span style="color:rgb(204,153,153);">:</span><span style="color:rgb(198,249,131);"> userRepository</span><span style="color:rgb(204,153,153);">.</span><span style="color:rgb(198,249,131);">findAll</span><span style="color:rgb(204,153,153);">())</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(204,153,153);">{</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);">      user</span><span style="color:rgb(204,153,153);">.</span><span style="color:rgb(198,249,131);">addRole</span><span style="color:rgb(204,153,153);">(</span><span style="color:rgb(198,249,131);">role</span><span style="color:rgb(204,153,153);">);</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);">      userRepository</span><span style="color:rgb(204,153,153);">.</span><span style="color:rgb(198,249,131);">save</span><span style="color:rgb(204,153,153);">(</span><span style="color:rgb(198,249,131);">user</span><span style="color:rgb(204,153,153);">);</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);">    </span><span style="color:rgb(204,153,153);">}</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(204,153,153);">}</span></li></ol></pre>
<blockquote style="margin:1em 1.5em;padding-left:1.5em;border-left-width:4px;border-left-style:solid;border-left-color:rgb(242,242,242);color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;line-height:28px;">
<p style="margin:0px;padding:0px;text-indent:2em;line-height:2em;">    注意：需要&lt;tx:annotation-driven /&gt; 或使用了 @EnableTransactionManagement</p>
</blockquote>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    可以在查询的方法前面注解事务：</p>
<pre lang="java" style="font-family:Monaco,Courier,monospace;position:relative;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word;overflow-y:hidden;font-size:14px;padding:30px 10px 10px;overflow:hidden;color:rgb(85,85,85);background:rgb(35,36,31);"><ol style="padding:0px 0px 0px 10px;margin:0px;border-left-width:30px;border-left-style:solid;border-left-color:rgb(79,54,57);list-style-type:decimal-leading-zero;color:rgb(176,235,231);"><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(128,255,128);">@Transactional</span><span style="color:rgb(204,153,153);">(</span><span style="color:rgb(198,249,131);">readOnly </span><span style="color:rgb(204,153,153);">=</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(251,140,105);">true</span><span style="color:rgb(204,153,153);">)</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(251,140,105);">public</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(251,140,105);">interface</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(246,105,154);">UserRepository</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(251,140,105);">extends</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(246,105,154);">JpaRepository</span><span style="color:rgb(204,153,153);">&lt;</span><span style="color:rgb(246,105,154);">User</span><span style="color:rgb(204,153,153);">,</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(246,105,154);">Long</span><span style="color:rgb(204,153,153);">&gt;</span><span style="color:rgb(198,249,131);"> </span><span style="color:rgb(204,153,153);">{</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);">  </span><span style="color:rgb(246,105,154);">List</span><span style="color:rgb(204,153,153);">&lt;</span><span style="color:rgb(246,105,154);">User</span><span style="color:rgb(204,153,153);">&gt;</span><span style="color:rgb(198,249,131);"> findByLastname</span><span style="color:rgb(204,153,153);">(</span><span style="color:rgb(246,105,154);">String</span><span style="color:rgb(198,249,131);"> lastname</span><span style="color:rgb(204,153,153);">);</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);">  </span><span style="color:rgb(128,255,128);">@Modifying</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);">  </span><span style="color:rgb(128,255,128);">@Transactional</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);">  </span><span style="color:rgb(128,255,128);">@Query</span><span style="color:rgb(204,153,153);">(</span><span>&quot;delete from User u where u.active = false&quot;</span><span style="color:rgb(204,153,153);">)</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(198,249,131);">  </span><span style="color:rgb(251,140,105);">void</span><span style="color:rgb(198,249,131);"> deleteInactiveUsers</span><span style="color:rgb(204,153,153);">();</span></li><li style="margin:0px;padding:2px 0px;border-bottom-width:1px;border-bottom-style:dashed;border-bottom-color:rgb(85,85,85);"><span style="color:rgb(204,153,153);">}</span></li></ol></pre>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    这里的deleteInactiveUsers()方法因为的事务注解覆盖了整体的readOnly，所以这个方法不是只读的。</p>
<h2 style="margin:0px;padding:0px;font-size:1.28571em;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;line-height:28px;"><a name="t12" style="text-decoration:none;color:rgb(12, 137, 207);"></a>
8、附录</h2>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    <strong>查询关键字：</strong></p>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    <img src="Spring ORM+Hibernate？Out！换 Spring Data JPA 吧！_files/1125701523.png" type="image/png" data-filename="1125701523.png" alt="03" height="680" style="max-width:100%;height:auto;max-height:100%;border:0px;vertical-align:middle;" title="03" width="519"/></p>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    <strong>查询的返回值类型：</strong></p>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    <img src="Spring ORM+Hibernate？Out！换 Spring Data JPA 吧！_files/1272441414.png" type="image/png" data-filename="1272441414.png" alt="04" height="609" style="max-width:100%;height:auto;max-height:100%;border:0px;vertical-align:middle;" title="04" width="747"/></p>
<hr style="margin:2em auto;border-style:dashed;border-color:rgb(233,233,233);border-width:2px 0px 0px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;line-height:28px;"/>
<p style="margin:0px;padding:0px;text-indent:2em;line-height:28px;color:rgb(85,85,85);font-family:'Helvetica Neue','Luxi Sans','DejaVu Sans',Tahoma,'Hiragino Sans GB','Microsoft Yahei',sans-serif;font-size:14px;">
    小结：本文大概的介绍了Spring Data JPA，如果需要了解如何搭建相关项目，请参考：<a href="http://blog.csdn.net/anxpp/article/details/51415366" style="text-decoration:none;color:rgb(16,166,79);" target="_blank">手把手教你从最基本的Java工程搭建SpringMVC+SpringDataJPA+Hibernate(含源码下载)</a></p>
   
</div>









<div style="zoom:1;float:right;">
<a href="http://blog.csdn.net/anxpp/article/details/51415698#" style="line-height:16px;text-decoration:none;background-position:0 0 !important;background-image:url('http://bdimg.share.baidu.com/static/api/img/share/icons_0_16.png?v=d754dcc0.png') !important;font-size:12px;padding-left:17px;float:left;height:16px;background-repeat:no-repeat;cursor:pointer;margin:6px 6px 6px 0px;color:rgb(51, 51, 51);" target="_blank"></a>
<a href="http://blog.csdn.net/anxpp/article/details/51415698#" style="line-height:16px;text-decoration:none;background-position:0 -52px !important;font-size:12px;padding-left:17px;float:left;height:16px;background-image:url(&quot;http://bdimg.share.baidu.com/static/api/css/../img/share/icons_0_16.png?v=91362611.png&quot;);background-repeat:no-repeat;cursor:pointer;margin:6px 6px 6px 0px;" target="_blank" title="分享到QQ空间"></a>
<a href="http://blog.csdn.net/anxpp/article/details/51415698#" style="line-height:16px;text-decoration:none;background-position:0 -104px !important;font-size:12px;padding-left:17px;float:left;height:16px;background-image:url(&quot;http://bdimg.share.baidu.com/static/api/css/../img/share/icons_0_16.png?v=91362611.png&quot;);background-repeat:no-repeat;cursor:pointer;margin:6px 6px 6px 0px;" target="_blank" title="分享到新浪微博"></a>
<a href="http://blog.csdn.net/anxpp/article/details/51415698#" style="line-height:16px;text-decoration:none;background-position:0 -260px !important;font-size:12px;padding-left:17px;float:left;height:16px;background-image:url(&quot;http://bdimg.share.baidu.com/static/api/css/../img/share/icons_0_16.png?v=91362611.png&quot;);background-repeat:no-repeat;cursor:pointer;margin:6px 6px 6px 0px;" target="_blank" title="分享到腾讯微博"></a>
<a href="http://blog.csdn.net/anxpp/article/details/51415698#" style="line-height:16px;text-decoration:none;background-position:0 -208px !important;font-size:12px;padding-left:17px;float:left;height:16px;background-image:url(&quot;http://bdimg.share.baidu.com/static/api/css/../img/share/icons_0_16.png?v=91362611.png&quot;);background-repeat:no-repeat;cursor:pointer;margin:6px 6px 6px 0px;" target="_blank" title="分享到人人网"></a>
<a href="http://blog.csdn.net/anxpp/article/details/51415698#" style="line-height:16px;text-decoration:none;background-position:0 -1612px !important;font-size:12px;padding-left:17px;float:left;height:16px;background-image:url(&quot;http://bdimg.share.baidu.com/static/api/css/../img/share/icons_0_16.png?v=91362611.png&quot;);background-repeat:no-repeat;cursor:pointer;margin:6px 6px 6px 0px;" target="_blank" title="分享到微信"></a>
<span style="visibility:hidden;display:block;height:0px;clear:both;">.</span></div>



   

    








 


        <div style="text-align:center;margin-top:44px;">
            <dl style="display:inline-block;width:72px;font-size:27px;color:rgb(255, 255, 255);cursor:pointer;margin:0px;vertical-align:middle;padding:7px 0px;background:rgb(255, 153, 0);">
               
                 <dt style="margin-bottom:4px;">顶</dt>
                <dd style="font-size:15px;overflow:hidden;margin:0px;">7</dd>
            </dl>
           
              
            <dl style="display:inline-block;width:72px;font-size:27px;color:rgb(255, 255, 255);cursor:pointer;margin:0px;vertical-align:middle;padding:7px 0px;background:rgb(255, 121, 0);">
              
                  <dt style="margin-bottom:4px;">踩</dt>
                <dd style="font-size:15px;overflow:hidden;margin:0px;">0</dd>               
            </dl>
            
        </div>
     <div><a href="#" style="text-decoration:none;" target="_blank"> </a>   </div>
    <div> <a href="#" style="text-decoration:none;" target="_blank"> </a></div>
    

   <ul style="margin-top:30px;">
                <li style="margin-bottom:3px;"><span style="padding-left:27px;width:51px;line-height:26px;display:inline-block;color:rgb(255, 255, 255);height:26px;margin-right:7px;background:rgb(153, 153, 153);background-image:url(&quot;http://static.blog.csdn.net/skin/skin-yellow/css/../images/skin-type-icon.png&quot;);background-repeat:no-repeat;background-position:8px -111px;">上一篇</span><a href="http://blog.csdn.net/anxpp/article/details/51415366" style="text-decoration:none;color:rgb(51, 51, 51);">手把手教你从最基本的Java工程搭建SpringMVC+SpringDataJPA+Hibernate(含源码下载)</a></li>
                <li><span style="padding-left:27px;width:51px;line-height:26px;display:inline-block;color:rgb(255, 255, 255);height:26px;background:rgb(153, 153, 153);margin-right:7px;background-image:url(&quot;http://static.blog.csdn.net/skin/skin-yellow/css/../images/skin-type-icon.png&quot;);background-repeat:no-repeat;background-position:8px -140px;">下一篇</span><a href="http://blog.csdn.net/anxpp/article/details/51485899" style="text-decoration:none;color:rgb(51, 51, 51);">Jquery选择器完全总结</a></li>
    </ul>

    <div style="clear:both;height:10px;"></div>


        <div style="overflow:hidden;">
                <h4 style="margin:0px;padding:0px;font-size:16px;color:rgb(51, 51, 51);">我的同类文章</h4>
                <div style="border:1px solid rgb(187, 187, 187);margin:20px 0px 0px 0px;">
                    <div style="line-height:45px;border-bottom:1px solid rgb(220, 220, 220);">
                                <span style="display:inline-block;margin-left:25px;font-size:16px;color:rgb(102, 102, 102);font-weight:bold;">
                                    <span style="cursor:pointer;">编程语言—————Java———<em style="font-style:normal;">（41）</em></span>
                                </span>
                    </div>
                   
                    <div style="background:rgb(252, 252, 252);max-height:195px;overflow-y:auto;padding:10px 20px;">
                        
                        <ul style="float:left;width:49%;list-style:none;margin:0px;padding:0px;"><li style="list-style:none;line-height:30px;"><em style="font-style:normal;display:inline-block;vertical-align:middle;margin-right:10px;">•</em><a href="http://blog.csdn.net/anxpp/article/details/54605416" style="text-decoration:none;display:inline-block;width:50%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;vertical-align:middle;color:rgb(51, 51, 51);" target="_blank" title="Hadoop-2.7.3 单节点模式安装">Hadoop-2.7.3 单节点模式安装</a><span style="font-size:12px;color:rgb(187, 187, 187);display:inline-block;margin-left:9px;">2017-01-18</span><span style="font-size:12px;color:rgb(187, 187, 187);display:inline-block;margin-left:9px;"><i style="font-weight:normal;font-style:normal;">阅读</i><b style="font-weight:normal;font-style:normal;margin-left:5px;">62</b></span></li> <li style="list-style:none;line-height:30px;"><em style="font-style:normal;display:inline-block;vertical-align:middle;margin-right:10px;">•</em><a href="http://blog.csdn.net/anxpp/article/details/53912439" style="text-decoration:none;display:inline-block;width:50%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;vertical-align:middle;color:rgb(51, 51, 51);" target="_blank" title="工作流引擎Activiti系列（一）——初识">工作流引擎Activiti系列（一）——初识</a><span style="font-size:12px;color:rgb(187, 187, 187);display:inline-block;margin-left:9px;">2016-12-28</span><span style="font-size:12px;color:rgb(187, 187, 187);display:inline-block;margin-left:9px;"><i style="font-weight:normal;font-style:normal;">阅读</i><b style="font-weight:normal;font-style:normal;margin-left:5px;">146</b></span></li> <li style="list-style:none;line-height:30px;"><em style="font-style:normal;display:inline-block;vertical-align:middle;margin-right:10px;">•</em><a href="http://blog.csdn.net/anxpp/article/details/52444239" style="text-decoration:none;display:inline-block;width:50%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;vertical-align:middle;color:rgb(51, 51, 51);" target="_blank" title="java.lang.ClassNotFoundException: org.springframework.boot.SpringApplication">java.lang.ClassNotFoundException: org.springframework.boot.SpringApplication</a><span style="font-size:12px;color:rgb(187, 187, 187);display:inline-block;margin-left:9px;">2016-09-05</span><span style="font-size:12px;color:rgb(187, 187, 187);display:inline-block;margin-left:9px;"><i style="font-weight:normal;font-style:normal;">阅读</i><b style="font-weight:normal;font-style:normal;margin-left:5px;">706</b></span></li> <li style="list-style:none;line-height:30px;"><em style="font-style:normal;display:inline-block;vertical-align:middle;margin-right:10px;">•</em><a href="http://blog.csdn.net/anxpp/article/details/52274120" style="text-decoration:none;display:inline-block;width:50%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;vertical-align:middle;color:rgb(51, 51, 51);" target="_blank" title="Spring Boot + Spring Data JPA项目配置多数据源">Spring Boot + Spring Data JPA项目配置多数据源</a><span style="font-size:12px;color:rgb(187, 187, 187);display:inline-block;margin-left:9px;">2016-08-22</span><span style="font-size:12px;color:rgb(187, 187, 187);display:inline-block;margin-left:9px;"><i style="font-weight:normal;font-style:normal;">阅读</i><b style="font-weight:normal;font-style:normal;margin-left:5px;">1512</b></span></li> <li style="list-style:none;line-height:30px;"><em style="font-style:normal;display:inline-block;vertical-align:middle;margin-right:10px;">•</em><a href="http://blog.csdn.net/anxpp/article/details/52108238" style="text-decoration:none;display:inline-block;width:50%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;vertical-align:middle;color:rgb(51, 51, 51);" target="_blank" title="Java NIO框架Netty简单使用">Java NIO框架Netty简单使用</a><span style="font-size:12px;color:rgb(187, 187, 187);display:inline-block;margin-left:9px;">2016-08-03</span><span style="font-size:12px;color:rgb(187, 187, 187);display:inline-block;margin-left:9px;"><i style="font-weight:normal;font-style:normal;">阅读</i><b style="font-weight:normal;font-style:normal;margin-left:5px;">627</b></span></li> <li style="list-style:none;line-height:30px;"><em style="font-style:normal;display:inline-block;vertical-align:middle;margin-right:10px;">•</em><a href="http://blog.csdn.net/anxpp/article/details/51920314" style="text-decoration:none;display:inline-block;width:50%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;vertical-align:middle;color:rgb(51, 51, 51);" target="_blank" title="理解JVM——Java内存区域">理解JVM——Java内存区域</a><span style="font-size:12px;color:rgb(187, 187, 187);display:inline-block;margin-left:9px;">2016-07-16</span><span style="font-size:12px;color:rgb(187, 187, 187);display:inline-block;margin-left:9px;"><i style="font-weight:normal;font-style:normal;">阅读</i><b style="font-weight:normal;font-style:normal;margin-left:5px;">262</b></span></li> </ul>

                        <ul style="float:right;width:49%;list-style:none;margin:0px;padding:0px;"><li style="list-style:none;line-height:30px;"><em style="font-style:normal;display:inline-block;vertical-align:middle;margin-right:10px;">•</em><a href="http://blog.csdn.net/anxpp/article/details/53946420" style="text-decoration:none;display:inline-block;width:50%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;vertical-align:middle;color:rgb(51, 51, 51);" target="_blank" title="工作流引擎Activiti系列（二）——流程设计工具">工作流引擎Activiti系列（二）——流程设计工具</a><span style="font-size:12px;color:rgb(187, 187, 187);display:inline-block;margin-left:9px;">2016-12-30</span><span style="font-size:12px;color:rgb(187, 187, 187);display:inline-block;margin-left:9px;"><i style="font-weight:normal;font-style:normal;">阅读</i><b style="font-weight:normal;font-style:normal;margin-left:5px;">160</b></span></li> <li style="list-style:none;line-height:30px;"><em style="font-style:normal;display:inline-block;vertical-align:middle;margin-right:10px;">•</em><a href="http://blog.csdn.net/anxpp/article/details/53782976" style="text-decoration:none;display:inline-block;width:50%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;vertical-align:middle;color:rgb(51, 51, 51);" target="_blank" title="Spring与SpringMVC的容器关系分析">Spring与SpringMVC的容器关系分析</a><span style="font-size:12px;color:rgb(187, 187, 187);display:inline-block;margin-left:9px;">2016-12-21</span><span style="font-size:12px;color:rgb(187, 187, 187);display:inline-block;margin-left:9px;"><i style="font-weight:normal;font-style:normal;">阅读</i><b style="font-weight:normal;font-style:normal;margin-left:5px;">119</b></span></li> <li style="list-style:none;line-height:30px;"><em style="font-style:normal;display:inline-block;vertical-align:middle;margin-right:10px;">•</em><a href="http://blog.csdn.net/anxpp/article/details/52295168" style="text-decoration:none;display:inline-block;width:50%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;vertical-align:middle;color:rgb(51, 51, 51);" target="_blank" title="Java根据包名获取指定接口的所有实现">Java根据包名获取指定接口的所有实现</a><span style="font-size:12px;color:rgb(187, 187, 187);display:inline-block;margin-left:9px;">2016-08-23</span><span style="font-size:12px;color:rgb(187, 187, 187);display:inline-block;margin-left:9px;"><i style="font-weight:normal;font-style:normal;">阅读</i><b style="font-weight:normal;font-style:normal;margin-left:5px;">409</b></span></li> <li style="list-style:none;line-height:30px;"><em style="font-style:normal;display:inline-block;vertical-align:middle;margin-right:10px;">•</em><a href="http://blog.csdn.net/anxpp/article/details/52139155" style="text-decoration:none;display:inline-block;width:50%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;vertical-align:middle;color:rgb(51, 51, 51);" target="_blank" title="使用最新Netty实现一个简单的聊天程序">使用最新Netty实现一个简单的聊天程序</a><span style="font-size:12px;color:rgb(187, 187, 187);display:inline-block;margin-left:9px;">2016-08-06</span><span style="font-size:12px;color:rgb(187, 187, 187);display:inline-block;margin-left:9px;"><i style="font-weight:normal;font-style:normal;">阅读</i><b style="font-weight:normal;font-style:normal;margin-left:5px;">1310</b></span></li> <li style="list-style:none;line-height:30px;"><em style="font-style:normal;display:inline-block;vertical-align:middle;margin-right:10px;">•</em><a href="http://blog.csdn.net/anxpp/article/details/51996472" style="text-decoration:none;display:inline-block;width:50%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;vertical-align:middle;color:rgb(51, 51, 51);" target="_blank" title="Spring Data JPA中的动态查询">Spring Data JPA中的动态查询</a><span style="font-size:12px;color:rgb(187, 187, 187);display:inline-block;margin-left:9px;">2016-09-06</span><span style="font-size:12px;color:rgb(187, 187, 187);display:inline-block;margin-left:9px;"><i style="font-weight:normal;font-style:normal;">阅读</i><b style="font-weight:normal;font-style:normal;margin-left:5px;">1222</b></span></li> </ul>
                    <a href="http://blog.csdn.net/anxpp/article/category/5863765" style="text-decoration:none;clear:both;display:block;height:35px;line-height:35px;background:rgb(252, 252, 252);font-size:12px;color:rgb(102, 102, 102);text-align:center;">更多文章</a></div>
                </div>
            </div>    
    
      
</div></div></div></div></div></div></div></div><br/></div></span>
</div></body></html> 