<html>
<head>
  <title>Tomcat项目部署方式.html</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/306387 (zh-CN, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="747"/>
<h1>Tomcat项目部署方式.html</h1>

<div>
<span><p align="left" style="margin: 0px; padding: 0px; font-family: Arial; line-height: 26px; background-color: rgb(255, 255, 255);"><strong>一、静态部署</strong></p><p align="left" style="margin: 0px; padding: 0px; font-family: Arial; line-height: 26px; background-color: rgb(255, 255, 255);"><strong>1、直接将web项目文件件拷贝到webapps 目录中</strong><br/>
    <span style="font-family: 'Times New Roman'; font-size: 16px;"> Tomcat</span>的<span style="font-family: 'Times New Roman';">Webapps</span>目录是<span style="font-family: 'Times New Roman';">Tomcat</span>默认的应用目录，当服务器启动时，会加载所有这个目录下的应用。所以可以将<span style="font-family: 'Times New Roman';">JSP</span>程序打包成一个<span style="font-family: 'Times New Roman';"> war</span>包放在目录下，服务器会自动解开这个<span style="font-family: 'Times New Roman';">war</span>包，并在这个目录下生成一个同名的文件夹。一个<span style="font-family: 'Times New Roman';">war</span>包就是有特性格式的<span style="font-family: 'Times New Roman';">jar</span>包，它是将一个<span style="font-family: 'Times New Roman';">web</span>程序的所有内容进行压缩得到。具体如何打包，可以使用许多开发工具的<span style="font-family: 'Times New Roman';">IDE</span>环境，如<span style="font-family: 'Times New Roman';">Eclipse</span>等。也可以用<span style="font-family: 'Times New Roman';"> cmd </span>命令：<span style="font-family: 'Times New Roman'; font-size: 16px;">jar -cvf mywar.war  myweb <br/>
     webapps</span>这个默认的应用目录也是可以改变。打开<span style="font-family: 'Times New Roman';">Tomcat</span>的<span style="font-family: 'Times New Roman';">conf</span>目录下的<span style="font-family: 'Times New Roman';">server.xml</span>文件，找到下面内容：</p><p style="margin: 0px; padding: 0px; font-family: Arial; line-height: 26px; background-color: rgb(255, 255, 255);"><span style="color: blue;"><span style="font-family: 'Times New Roman'; font-size: 16px;">&lt;Host name=&quot;localhost&quot; appBase=&quot;webapps&quot;</span></span></p><p style="margin: 0px; padding: 0px; font-family: Arial; line-height: 26px; background-color: rgb(255, 255, 255);"><span style="color: blue;"><span style="font-family: 'Times New Roman'; font-size: 16px;">       </span></span>unpackWARs=&quot;true&quot; autoDeploy=&quot;true&quot;</p><p style="margin: 0px; padding: 0px; font-family: Arial; line-height: 26px; background-color: rgb(255, 255, 255);"><span style="color: blue;"><span style="font-family: 'Times New Roman'; font-size: 16px;">       </span></span>xmlValidation=&quot;false&quot; xmlNamespaceAware=&quot;false&quot;&gt;</p><p align="left" style="margin: 0px; padding: 0px; font-family: Arial; line-height: 26px; background-color: rgb(255, 255, 255);"><span style="font-size: 16px;">将<span style="font-family: 'Times New Roman';">appBase</span>修改即可。</span> <br/><strong>2、在server.xml中指定</strong> <br/>
    <span style="font-size: 16px;">在<span style="font-family: 'Times New Roman';">Tomcat</span>的配置文件中，一个<span style="font-family: 'Times New Roman';">Web</span>应用就是一个特定的<span style="font-family: 'Times New Roman';">Context</span>，可以通过在<span style="font-family: 'Times New Roman';">server.xml</span>中新建<span style="font-family: 'Times New Roman';">Context</span>里部署一个<span style="font-family: 'Times New Roman';">JSP</span>应用程序。打开<span style="font-family: 'Times New Roman';">server.xml</span>文件，在<span style="font-family: 'Times New Roman';">Host</span>标签内建一个<span style="font-family: 'Times New Roman';">Context</span>，内容如下。</span><br/><br/></p><p align="left" style="margin: 0px; padding: 0px; font-family: Arial; line-height: 26px; background-color: rgb(255, 255, 255);"><span style="font-size: 16px;">在<span style="font-family: 'Times New Roman';">tomcat</span>中的<span style="font-family: 'Times New Roman';">conf</span>目录中，在<span style="font-family: 'Times New Roman';">server.xml</span>中的，<span style="font-family: 'Times New Roman';">&lt;host/&gt;</span>节点中添加：</span><span style="font-family: 'Times New Roman'; font-size: 16px;"> <br/><span style="color: blue;">&lt;Context </span><span style="color: red;">path</span><span style="color: blue;">=&quot;/hello&quot; </span><span style="color: red;">docBase</span><span style="color: blue;">=&quot;D:\ workspace\hello\WebRoot&quot; </span><span style="color: red;">debug</span><span style="color: blue;">=&quot;0&quot; </span><span style="color: red;">privileged</span></span><span style="color: blue;"><span style="font-family: 'Times New Roman'; font-size: 16px;">=&quot;true&quot;&gt; <br/>
&lt;/Context&gt;</span></span></p><p align="left" style="margin: 0px; padding: 0px; font-family: Arial; line-height: 26px; background-color: rgb(255, 255, 255);"><span style="font-size: 16px;">或者</span></p><p align="left" style="margin: 0px; padding: 0px; font-family: Arial; line-height: 26px; background-color: rgb(255, 255, 255);"><span style="font-family: 'Times New Roman'; font-size: 16px;"><span style="color: blue;">&lt;Context </span><span style="color: red;">path</span><span style="color: blue;">=&quot;/myapp&quot; </span><span style="color: red;">reloadable</span><span style="color: blue;">=&quot;true&quot; </span><span style="color: red;">docBase</span><span style="color: blue;">=&quot;D:\myapp&quot; </span><span style="color: red;">workDir</span><span style="color: blue;">=&quot;D:\myapp\work&quot;/&gt;</span></span></p><p align="left" style="margin: 0px; padding: 0px; font-family: Arial; line-height: 26px; background-color: rgb(255, 255, 255);"><span style="font-size: 16px;">或者</span></p><p align="left" style="margin: 0px; padding: 0px; font-family: Arial; line-height: 26px; background-color: rgb(255, 255, 255);"><span style="font-family: 'Times New Roman'; font-size: 16px;"><span style="color: blue;">&lt;Context </span><span style="color: red;">path</span><span style="color: blue;">=&quot;/sms4&quot; </span><span style="color: red;">docBase</span><span style="color: blue;">=&quot;D:\workspace\sms4\WebRoot&quot;/&gt;</span></span></p><p align="left" style="margin: 0px; padding: 0px; font-family: Arial; line-height: 26px; background-color: rgb(255, 255, 255);"><br/><span style="font-size: 16px;">说明：</span></p><p align="left" style="margin: 0px; padding: 0px; font-family: Arial; line-height: 26px; background-color: rgb(255, 255, 255);"><span style="font-size: 16px;"><span style="color: red;"><span style="font-family: 'Times New Roman';">path</span></span>是虚拟路径；</span></p><p align="left" style="margin: 0px; padding: 0px; font-family: Arial; line-height: 26px; background-color: rgb(255, 255, 255);"><span style="font-size: 16px;"><span style="color: red;"><span style="font-family: 'Times New Roman';">docBase </span></span>是应用程序的物理路径；</span></p><p align="left" style="margin: 0px; padding: 0px; font-family: Arial; line-height: 26px; background-color: rgb(255, 255, 255);"><span style="font-size: 16px;"><span style="color: red;"><span style="font-family: 'Times New Roman';">workDir </span></span>是这个应用的工作目录，存放运行时生成的与这个应用相关的文件；</span></p><p align="left" style="margin: 0px; padding: 0px; font-family: Arial; line-height: 26px; background-color: rgb(255, 255, 255);"><span style="font-family: 'Times New Roman'; font-size: 16px;"> </span></p><p align="left" style="margin: 0px; padding: 0px; font-family: Arial; line-height: 26px; background-color: rgb(255, 255, 255);"><span style="font-size: 16px;"><span style="color: red;"><span style="font-family: 'Times New Roman';">debug </span></span>则是设定<span style="font-family: 'Times New Roman';">debug level,  0</span>表示提供最少的信息，<span style="font-family: 'Times New Roman';">9</span>表示提供最多的信息</span></p><p align="left" style="margin: 0px; padding: 0px; font-family: Arial; line-height: 26px; background-color: rgb(255, 255, 255);"><span style="font-size: 16px;"><span style="color: red;"><span style="font-family: 'Times New Roman';">privileged</span></span>设置为<span style="font-family: 'Times New Roman';">true</span>的时候，才允许<span style="font-family: 'Times New Roman';">Tomcat</span>的<span style="font-family: 'Times New Roman';">Web</span>应用使用容器内的<span style="font-family: 'Times New Roman';">Servlet</span></span></p><p align="left" style="margin: 0px; padding: 0px; font-family: Arial; line-height: 26px; background-color: rgb(255, 255, 255);"><span style="font-family: 'Times New Roman'; font-size: 16px;"><span style="color: red;">reloadable</span> </span>如果为<span style="font-family: 'Times New Roman';">true</span>，则<span style="font-family: 'Times New Roman';">tomcat</span>会自动检测应用程序的<span style="font-family: 'Times New Roman';">/WEB-INF/lib </span>和<span style="font-family: 'Times New Roman';">/WEB-INF/classes</span>目录的变化，自动装载新的应用程序，可以在不重起<span style="font-family: 'Times New Roman';">tomcat</span>的情况下改变应用程序，实现热部署</p><p align="left" style="margin: 0px; padding: 0px; font-family: Arial; line-height: 26px; background-color: rgb(255, 255, 255);"><span style="font-family: 'Times New Roman'; font-size: 16px;"><span style="color: red;">antiResourceLocking</span></span>和<span style="color: red;"><span style="font-family: 'Times New Roman';">antiJARLocking  </span></span>热部署是需要配置的参数，默认<span style="font-family: 'Times New Roman';">false</span>避免更新了某个<span style="font-family: 'Times New Roman';">webapp</span>，有时候<span style="font-family: 'Times New Roman';">Tomcat</span>并不能把旧的<span style="font-family: 'Times New Roman';">webapp</span>完全删除，通常会留下<span style="font-family: 'Times New Roman';">WEB-INF/lib</span>下的某个<span style="font-family: 'Times New Roman';">jar</span>包，必须关闭<span style="font-family: 'Times New Roman';">Tomcat</span>才能删除，这就导致自动部署失败。设置为<span style="font-family: 'Times New Roman';">true</span>，<span style="font-family: 'Times New Roman';">Tomcat</span>在运行对应的<span style="font-family: 'Times New Roman';">webapp</span>时，会把相应的源文件和<span style="font-family: 'Times New Roman';">jar</span>文件复制到一个临时目录里。<br/><strong>3、创建一个Context文件 <br/></strong>  <span style="font-size: 16px;">在<span style="font-family: 'Times New Roman';">conf</span>目录中，新建<span style="font-family: 'Times New Roman';"> Catalina</span>＼<span style="font-family: 'Times New Roman';">localhost</span>目录，在该目录中新建一个<span style="font-family: 'Times New Roman';">xml</span>文件，名字不可以随意取，要和<span style="font-family: 'Times New Roman';">path</span>后的那个名字一致，按照下边这个<span style="font-family: 'Times New Roman';">path</span>的配置，<span style="font-family: 'Times New Roman';">xml</span>的名字应该就应该是<span style="font-family: 'Times New Roman';">hello</span>（<span style="font-family: 'Times New Roman';">hello.xml</span>），该<span style="font-family: 'Times New Roman';">xml</span>文件的内容为：</span></p><p align="left" style="margin: 0px; padding: 0px; font-family: Arial; line-height: 26px; background-color: rgb(255, 255, 255);"><span style="color: blue;"><span style="font-family: 'Times New Roman'; font-size: 16px;">&lt;Context path=&quot;/hello&quot; docBase=&quot;E:\workspace\hello\WebRoot&quot; debug=&quot;0&quot; privileged=&quot;true&quot;&gt;&lt;/Context&gt;</span></span></p><p align="left" style="margin: 0px; padding: 0px; font-family: Arial; line-height: 26px; background-color: rgb(255, 255, 255);"><span style="color: blue;"><span style="font-family: 'Times New Roman'; font-size: 16px;"> </span></span></p><p align="left" style="margin: 0px; padding: 0px; font-family: Arial; line-height: 26px; background-color: rgb(255, 255, 255);"><span style="font-family: 'Times New Roman'; font-size: 16px;">tomcat</span>自带例子如下：</p><p style="margin: 0px; padding: 0px; font-family: Arial; line-height: 26px; background-color: rgb(255, 255, 255);"><span style="color: blue;"><span style="font-family: 'Times New Roman'; font-size: 16px;">&lt;Context docBase=&quot;${catalina.home}/server/webapps/host-manager&quot;</span></span></p><p style="margin: 0px; padding: 0px; font-family: Arial; line-height: 26px; background-color: rgb(255, 255, 255);"><span style="color: blue;"><span style="font-family: 'Times New Roman'; font-size: 16px;">         </span></span>privileged=&quot;true&quot; antiResourceLocking=&quot;false&quot; antiJARLocking=&quot;false&quot;&gt;</p><p align="left" style="margin: 0px; padding: 0px; font-family: Arial; line-height: 26px; background-color: rgb(255, 255, 255);"><span style="color: blue;"><span style="font-family: 'Times New Roman'; font-size: 16px;">&lt;/Context&gt;</span></span></p><p style="margin: 0px; padding: 0px; font-family: Arial; line-height: 26px; background-color: rgb(255, 255, 255);"><span style="font-size: 16px;">这个例子是<span style="font-family: 'Times New Roman';">tomcat</span>自带的，编辑的内容实际上和第二种方式是一样的，其中这<strong><em><span style="font-family: 'Times New Roman';">xml</span>文件名字就是访问路径，这样可以隐藏应用的真实名字。</em></strong></span></p><p align="left" style="margin: 0px; padding: 0px; font-family: Arial; line-height: 26px; background-color: rgb(255, 255, 255);"><strong>4、注意：</strong></p><p style="margin: 0px; padding: 0px; font-family: Arial; line-height: 26px; background-color: rgb(255, 255, 255);"><span style="font-family: 'Times New Roman'; font-size: 16px;"><strong> </strong>   </span>删除一个<span style="font-family: 'Times New Roman';">Web</span>应用同时也要删除<span style="font-family: 'Times New Roman';">webapps</span>下相应的文件夹和<span style="font-family: 'Times New Roman';">server.xml</span>中相应的<span style="font-family: 'Times New Roman';">Context</span>，还要将<span style="font-family: 'Times New Roman';">Tomcat</span>的<span style="font-family: 'Times New Roman';">conf\catalina\localhost</span>目录下相应的<span style="font-family: 'Times New Roman';">xml</span>文件删除，否则<span style="font-family: 'Times New Roman';">Tomcat</span>仍会去配置并加载。。。</p><p align="left" style="margin: 0px; padding: 0px; font-family: Arial; line-height: 26px; background-color: rgb(255, 255, 255);"><strong>二 动态部署</strong></p><p style="margin: 0px; padding: 0px; font-family: Arial; line-height: 26px; background-color: rgb(255, 255, 255);"><span style="font-family: 'Times New Roman'; font-size: 16px;">     </span>登陆<span style="font-family: 'Times New Roman';">tomcat</span>管理控制台：<a href="http://localhost:8080/" style="color: rgb(202, 0, 0); text-decoration: none;"><span style="font-family: 'Times New Roman';">http://localhost:8080/</span></a>，输入用户名和密码后便可管理应用并动态发布。</p><p style="margin: 0px; padding: 0px; font-family: Arial; line-height: 26px; background-color: rgb(255, 255, 255);"><span style="font-family: 'Times New Roman'; font-size: 16px;">     </span>在<span style="font-family: 'Times New Roman';">Context Path(option):</span>中输入<span style="font-family: 'Times New Roman';">/yourwebname </span>，这代表你的应用的访问地址。</p><p style="margin: 0px; padding: 0px; font-family: Arial; line-height: 26px; background-color: rgb(255, 255, 255);"><span style="font-family: 'Times New Roman'; font-size: 16px;">     XML Configration file URL</span>中要指定一个<span style="font-family: 'Times New Roman';">xml</span>文件，比如我们在<span style="font-family: 'Times New Roman';">F:\</span>下建立一个<span style="font-family: 'Times New Roman';">hmcx.xml</span>文件，内容如下：<span style="font-family: 'Times New Roman';"> &lt;Context reloadable=&quot;false&quot; /&gt;</span>其中<span style="font-family: 'Times New Roman';">docBase</span>不用写了，因为在下一个文本框中填入。或者更简单点，这个文本框什么都不填，在<span style="font-family: 'Times New Roman';">WAR or Directory URL:</span>中键入<span style="font-family: 'Times New Roman';">F:\hmcx</span>即可，然后点击<span style="font-family: 'Times New Roman';">Deploy</span>按钮，上面就可以看到了<span style="font-family: 'Times New Roman';">web</span>应用程序，名字就<span style="font-family: 'Times New Roman';">Context Path(option):</span>中的名字。</p><p style="margin: 0px; padding: 0px; font-family: Arial; line-height: 26px; background-color: rgb(255, 255, 255);"><br/><span style="font-family: 'Times New Roman'; font-size: 16px;">    </span><span style="font-size: 16px;">如果部署<span style="font-family: 'Times New Roman';">.war</span>文件还有更加简单的方式，下面还有个<span style="font-family: 'Times New Roman';">Select WAR file uploae</span>点击浏览选择<span style="font-family: 'Times New Roman';">.war</span>文件，然后点击<span style="font-family: 'Times New Roman';">Deploy</span>也可以。</span></p><br/><div style="color:gray"><small>来源： &lt;<a href="http://blog.csdn.net/diamondy/article/details/7472411">http://blog.csdn.net/diamondy/article/details/7472411</a><small>&gt;</small></small></div><small><small> </small></small></span>
</div></body></html> 