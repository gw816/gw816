<html>
<head>
  <title>James+Javamail构建邮件服务（一）(转载)_公民赵建_新浪博客</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/306387 (zh-CN, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="3544"/>
<h1>James+Javamail构建邮件服务（一）(转载)_公民赵建_新浪博客</h1>

<div><span><div style="-evernote-webclip:true"><br/><div style="font-size: 16px; display: inline-block;"><div><div style="list-style:none;font-size:12px;font-family:Verdana, 宋体, sans-serif;color:rgb(85, 85, 85);background-color:rgb(255, 255, 255);"><div style="background-image:none;background-repeat:no-repeat;background-position:center bottom;"><div style="background-image:none;background-repeat:no-repeat;background-position:center top;"><div><div style="overflow:hidden;"><div style="text-align:left;overflow:hidden;"><div style="background-image:url(&quot;http://simg.sinajs.cn/blog7style/css/common/../../images/common/modelbody.png&quot;);background-position:1450px 0px;"><div style="zoom:1;">
		<div style="clear:both;line-height:20px;padding-bottom:10px;"> 
			
								<h2 style="margin:0px;padding:0px;border:0px;list-style:none;color:rgb(109, 88, 135);font-size:18px;font-family:微软雅黑, 黑体;font-weight:300;display:inline;">James+Javamail构建邮件服务（一）(转载)</h2>
			
					<span style="white-space:nowrap;padding-top:4px;">
				<img src="James+Javamail构建邮件服务（一）(转载)_公民赵建_新浪博客_files/sg_trans.gif" type="image/gif" data-filename="sg_trans.gif" align="absmiddle" height="15" style="margin:0px;padding:0px;border:0px;list-style:none;background-image:url("http://simg.sinajs.cn/blog7style/css/common/../../images/common/sg_icon.png?20131218");background-position:255px top;margin-left:5px;vertical-align:text-bottom;" title="此博文包含图片" width="15"/>	
			</span>
					<span style="color:rgb(144, 144, 144);white-space:nowrap;font-family:Arial;font-size:10px;margin-left:5px;margin-right:13px;">(2014-01-02 11:31:07)</span><div style="float:right;"><a href="#" style="display:inline-block;text-decoration:none;cursor:pointer;padding:0px 0px 0px 3px;overflow:hidden;white-space:nowrap;background-repeat:no-repeat;background-position:0px 0px;color:rgb(51, 51, 51);margin-right:6px;zoom:1;background-image:url(&quot;http://simg.sinajs.cn/blog7style/css/common/../../images/common/sg_newsp.png&quot;);position:relative;letter-spacing:5px;width:86px;font-family:Verdana, 宋体, sans-serif;font-size:12px;"><cite style="min-width:1px;font-style:normal;overflow-x:visible;padding:0px 20px 0px 32px;height:23px;background-repeat:no-repeat;background-position:right -28px;line-height:23px;background-image:url(&quot;http://simg.sinajs.cn/blog7style/css/common/../../images/common/sg_newsp.png&quot;);white-space:nowrap;text-align:left;width:34px;font-size:12px;display:inline-block;"><img src="James+Javamail构建邮件服务（一）(转载)_公民赵建_新浪博客_files/sg_trans [1].gif" type="image/gif" data-filename="sg_trans.gif" align="absmiddle" height="15" style="margin:0px;padding:0px;border:0px;list-style:none;background-image:url("http://simg.sinajs.cn/blog7style/css/common/../../images/common/sg_icon.png?20131218");background-position:495px -60px;position:absolute;top:4px;left:11px;" width="15"/>转载<em style="font-style:normal;text-size-adjust:none;font-size:7px;position:absolute;right:5px;top:2px;">▼</em></cite></a></div>		</div>
		<div style="width:100%;clear:both;word-break:break-all;line-height:20px;">
			<table style="font-size:inherit;font-weight:inherit;font-style:inherit;font-variant:inherit;margin:0px;padding:0px;">
				<tbody><tr>
					<td style="margin:0px;padding:0px;font-size:12px;vertical-align:top;font-family:宋体;padding-right:10px;">
					
										</td>
					<td style="margin:0px;padding:0px;font-size:12px;vertical-align:top;font-family:宋体;width:220px;white-space:nowrap;">
											<span style="color:rgb(144, 144, 144);font-family:宋体;">分类：</span>
						<a href="http://blog.sina.com.cn/s/articlelist_1729719772_2_1.html" style="text-decoration:none;color:rgb(109, 88, 135);font-family:宋体;" target="_blank">java</a>
										</td>
				</tr>
			</tbody></table>
		</div>
						
		<div style="width:690px;clear:both;padding-top:18px;font-size:14px;padding-bottom:30px;overflow:hidden;font-family:simsun;word-wrap:normal;word-break:normal;line-height:150%;">
			<h3 style="font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;margin:34px 0px 10px;border:0px;list-style:none;overflow:hidden;word-wrap:break-word;font-size:16px;padding:0px;word-break:break-all;padding-bottom:0px;padding-top:0px;padding-left:0px;line-height:normal;padding-right:0px;background-color:rgb(255,255,255);">
 <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>本文描述如何使用James搭建具备一定邮件过滤、邮件操作功能的邮件服务器，以及使用Javamail实现对James服务器邮件的收发功能。 <span></span><br style="line-height:28px;"/>

<br style="line-height:28px;"/>
1 关于James与Javamail <span></span><br style="line-height:28px;"/>
　　Apache James（Java Apache Mail Enterprise
Server）是Apache组织的子项目之一，完全采用纯Java技术开发，实现了SMTP、POP3与NNTP等多种邮件相关协议。James是一个邮件应用平台，可以通过Mailet扩充其功能，如Mail2SMS、Mail2Fax等。James提供了比较完善的配置方案，尤其是关于邮件内容存储和用户信息存储部分，可以选择在文件、数据库或其他介质中保存。James性能稳定、可配置性强，还是开源项目，所有源代码不存在版权问题，因此，James在项目中的应用日益广泛。 <span></span><br style="line-height:28px;"/>

　　Javamail
API是一个用于阅读、编写和发送电子消息的可选包（标准扩展），可以用来建立基于标准的电子邮件客户机，它支持各种因特网邮件协议，包括：SMTP、POP、IMAP、MIME、NNTP、S/MIME及其它协议。 <span></span><br style="line-height:28px;"/>

　　在本文档中，我们使用James 2.3.1＋Javamail
1.4.1作为介绍蓝本。 <span></span><br style="line-height:28px;"/>
<br style="line-height:28px;"/>
2 James服务器快速入门 <span></span><br style="line-height:28px;"/>
　　我们可以从Apache James
的官方站点下载到我们所需要的James服务器及源码 <span></span><br style="line-height:28px;"/>
　　James服务器（ZIP版）下载地址： <span></span><br style="line-height:28px;"/>
　　http://apache.mirror.phpchina.com/james/server/binaries/james-binary-2.3.1.zip <span></span><br style="line-height:28px;"/>

　　James源码下载地址： <span></span><br style="line-height:28px;"/>
　　http://apache.mirror.phpchina.com/james/server/source/james-2.3.1-src.zip <span></span><br style="line-height:28px;"/>

　　其他版本的服务器及源码可到官方下载页面下载： <span></span><br style="line-height:28px;"/>
　　http://james.apache.org/download.cgi <span></span><br style="line-height:28px;"/>
<br style="line-height:28px;"/>
2.1 启动James <span></span><br style="line-height:28px;"/>
第一步： <span></span><br style="line-height:28px;"/>
　　将james-binary-2.3.1.zip解压到纯英文目录下 <span></span><br style="line-height:28px;"/>
第二步： <span></span><br style="line-height:28px;"/>
　　运行bin目录下的run.bat(在运行之前请确保您的Java环境变量已配置成功，否则将提示运行失败) <span></span><br style="line-height:28px;"/>

显示以下内容表示James服务器已启动成功： <span></span></h3>
<div>
<div style="background-color:rgb(255,255,255);">
<p style="margin-bottom:5px;margin:0px 0px 10px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:28px;padding:0px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;color:rgb(51,51,51);padding-bottom:0px;padding-top:0px;padding-left:0px;padding-right:0px;">
<a href="http://photo.blog.sina.com.cn/showpic.html#blogid=67196ddc0101fdrn&amp;url=http://album.sina.com.cn/pic/001T3J80gy6Ftf4xiMz23" style="color:rgb(109, 88, 135);text-decoration:none;" target="_blank"><img src="James+Javamail构建邮件服务（一）(转载)_公民赵建_新浪博客_files/001T3J80gy6Ftf4xiMz23&690.jpg" type="image/jpeg" data-filename="001T3J80gy6Ftf4xiMz23&690.jpg" alt="James+Javamail构建邮件服务（一）(转载)" height="212" style="margin:0px;padding:0px;border:0px;list-style:none;" title="James+Javamail构建邮件服务（一）(转载)" width="651"/></a><br/>
<span style="word-wrap:normal;word-break:normal;line-height:28px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;">
服务器启动成功后，将自动在apps目录下根据james.sar文件生成相应的James发布文件包，我们后面讨论的配置文件config.xml即存在于此发布文件包中。 <span></span></span><br style="font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;line-height:28px;"/>

<br style="font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;line-height:28px;"/>

<span style="word-wrap:normal;word-break:normal;line-height:28px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;">
2.2 用Telnet管理用户 <span></span></span><br style="font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;line-height:28px;"/>

<span style="word-wrap:normal;word-break:normal;line-height:28px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;">
　　用cmd进入MS-DOS，输入telnet localhost 4555
(注：localhost是邮件服务器名，4555是管理端口，可在\apps\james\SAR-INF\config.xml文件中配置，在此我们使用其默认配置) <span></span></span><br style="font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;line-height:28px;"/>

<span style="word-wrap:normal;word-break:normal;line-height:28px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;">
　　然后输入用户名和密码(在配置文件config.xml中，默认为用户名：root密码：root) <span></span></span><br style="font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;line-height:28px;"/>

<span style="word-wrap:normal;word-break:normal;line-height:28px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;">
出现如下信息说明登陆成功：</span></p>
<p style="margin-bottom:5px;margin:0px 0px 10px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:28px;padding:0px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;color:rgb(51,51,51);padding-bottom:0px;padding-top:0px;padding-left:0px;padding-right:0px;">
<a href="http://photo.blog.sina.com.cn/showpic.html#blogid=67196ddc0101fdrn&amp;url=http://album.sina.com.cn/pic/001T3J80gy6FtfbOJKF01" style="color:rgb(109, 88, 135);text-decoration:none;" target="_blank"><img src="James+Javamail构建邮件服务（一）(转载)_公民赵建_新浪博客_files/001T3J80gy6FtfbOJKF01&690.jpg" type="image/jpeg" data-filename="001T3J80gy6FtfbOJKF01&690.jpg" alt="James+Javamail构建邮件服务（一）(转载)" height="201" style="margin:0px;padding:0px;border:0px;list-style:none;" title="James+Javamail构建邮件服务（一）(转载)" width="589"/></a><br/>

<span style="word-wrap:normal;word-break:normal;line-height:28px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;">
登陆成功后，我们就可以开始对用户信息进行增、删、查、改等操作了。 <span></span></span><br style="font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;line-height:28px;"/>

<span style="word-wrap:normal;word-break:normal;line-height:28px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;">
常用的用户信息操作命令参见下表： <span></span></span><br style="font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;line-height:28px;"/>

<span style="word-wrap:normal;word-break:normal;line-height:28px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;">
? Currently implemented
commands: <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>
常用实现命令 <span></span></span><br style="font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;line-height:28px;"/>

<span style="word-wrap:normal;word-break:normal;line-height:28px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;">
?
help <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>
display this
help <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>
显示帮助信息 <span></span></span><br style="font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;line-height:28px;"/>

<span style="word-wrap:normal;word-break:normal;line-height:28px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;">
?
listusers <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>
display existing
accounts <span></span> <span></span> <span></span>
显示现有账户 <span></span></span><br style="font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;line-height:28px;"/>

<span style="word-wrap:normal;word-break:normal;line-height:28px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;">
?
countusers <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>
display the number of existing accounts
显示现有账户数量 <span></span></span><br style="font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;line-height:28px;"/>

<span style="word-wrap:normal;word-break:normal;line-height:28px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;">
? adduser [username] [password] <span></span> <span></span>
add a new user <span></span> <span></span>
添加一个新用户 <span></span></span><br style="font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;line-height:28px;"/>

<span style="word-wrap:normal;word-break:normal;line-height:28px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;">
? verify [username] <span></span> <span></span> verify if
specified user exist <span></span>
核实指定用户是否存在 <span></span></span><br style="font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;line-height:28px;"/>

<span style="word-wrap:normal;word-break:normal;line-height:28px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;">
? deluser [username] <span></span> <span></span> delete
existing
user <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>
删除存在的用户 <span></span></span><br style="font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;line-height:28px;"/>

<span style="word-wrap:normal;word-break:normal;line-height:28px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;">
? setpassword [username]
[password] <span></span> <span></span> sets a user's
password <span></span>
设置用户密码 <span></span></span><br style="font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;line-height:28px;"/>

<span style="word-wrap:normal;word-break:normal;line-height:28px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;">
? setalias [user] [alias] <span></span> <span></span>
locally forwards all email for 'user' to 'alias'
设置邮箱别名 <span></span></span><br style="font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;line-height:28px;"/>

<span style="word-wrap:normal;word-break:normal;line-height:28px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;">
? showalias [username] <span></span> <span></span> shows a
user's current email alias 显示别名 <span></span></span><br style="font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;line-height:28px;"/>

<span style="word-wrap:normal;word-break:normal;line-height:28px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;">
? unsetalias
[user] <span></span> <span></span> <span></span> <span></span>
unsets an alias for
'user' <span></span> <span></span> <span></span>
删除用户别名 <span></span></span><br style="font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;line-height:28px;"/>

<span style="word-wrap:normal;word-break:normal;line-height:28px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;">
? setforwarding [username]
[emailaddress] <span></span> <span></span> forwards a
user's email to another email
address <span></span> <span></span> <span></span> <span></span> <span></span>
转发用户的电子邮件地址到另一个电子邮件地址 <span></span></span><br style="font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;line-height:28px;"/>

<span style="word-wrap:normal;word-break:normal;line-height:28px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;">
? showforwarding [username] shows a user's current email forwarding
显示用户的当前邮件转发 <span></span></span><br style="font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;line-height:28px;"/>

<span style="word-wrap:normal;word-break:normal;line-height:28px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;">
? unsetforwarding
[username] <span></span> <span></span> <span></span> <span></span>
removes a
forward <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>
删除转发 <span></span></span><br style="font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;line-height:28px;"/>

<span style="word-wrap:normal;word-break:normal;line-height:28px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;">
? user
[repositoryname] <span></span> <span></span> <span></span>
change to another user
repository <span></span> <span></span>
改变另一个用户库 <span></span></span><br style="font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;line-height:28px;"/>

<span style="word-wrap:normal;word-break:normal;line-height:28px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;">
? shutdown kills the current JVM (convenient when James is run as a
daemon) <span></span>
关闭当前的服务 <span></span></span><br style="font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;line-height:28px;"/>

<span style="word-wrap:normal;word-break:normal;line-height:28px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;">
?
quit <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>
close
connection <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>
关闭连接 <span></span></span><br style="font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;line-height:28px;"/>

<br style="font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;line-height:28px;"/>

<span style="word-wrap:normal;word-break:normal;line-height:28px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;">
　　我们可以输入命令：adduser chenfengcn
881213来添加一个的邮件用户，则其用户名为：chenfengcn，密码为：881213，邮箱地址为：chenfengcn@localhost(用户名后的域名跟服务器配置的域名相同，在config.xml文件中配置，我们将在后面部分讨论如何配置邮件服务器域名)。这样，我们就完成了一个最简单的邮件服务器的搭建操作。下面就让我们使用Foxmail来测试一下我们的邮箱帐户是否真正可以使用吧。 <span></span></span><br style="font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;line-height:28px;"/>

<br style="font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;line-height:28px;"/>

<span style="word-wrap:normal;word-break:normal;line-height:28px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;">
2.3 使用Foxmail测试邮箱帐户 <span></span></span><br style="font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;line-height:28px;"/>

<span style="word-wrap:normal;word-break:normal;line-height:28px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;">
　　打开Foxmail，点击“邮箱”－＞“新建邮箱帐户” <span></span></span><br style="font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;line-height:28px;"/>

<span style="word-wrap:normal;word-break:normal;line-height:28px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;">
　　电子邮件地址：chenfengcn@localhost <span></span></span><br style="font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;line-height:28px;"/>

<span style="word-wrap:normal;word-break:normal;line-height:28px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;">
　　密码为：881213 <span></span></span><br style="font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;line-height:28px;"/>

<span style="word-wrap:normal;word-break:normal;line-height:28px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;">
　　POP3服务器：localhost <span></span></span><br style="font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;line-height:28px;"/>

<span style="word-wrap:normal;word-break:normal;line-height:28px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;">
　　SMTP服务器：localhost <span></span></span><br style="font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;line-height:28px;"/>

<span style="word-wrap:normal;word-break:normal;line-height:28px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;">
　　其余选项均使用默认即可，新建完成后，Foxmail将发送一测试邮件到我们新建的邮箱里，点击“收取”，即可收取我们邮件帐户里面的邮件了。当收到Foxmail发送的测试邮件，就说明我们的邮件帐户可以正常使用了。 <span></span></span><br style="font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;line-height:28px;"/>

<span style="word-wrap:normal;word-break:normal;line-height:28px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;">
　　作为程序设计人员，我们当然希望能使用自己写的程序来测试我们的邮件服务器是否搭建成功，而不是Foxmail。下面就让我们用Javamail来实现这一切吧。</span></p>
<h3 style="font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;margin:34px 0px 10px;border:0px;list-style:none;overflow:hidden;word-wrap:break-word;font-size:16px;padding:0px;word-break:break-all;color:rgb(0,0,0);padding-bottom:0px;padding-top:0px;padding-left:0px;line-height:normal;padding-right:0px;">
 <span></span></h3>
<div>
<p style="margin-bottom:5px;margin:0px 0px 10px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:28px;padding:0px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;color:rgb(51,51,51);padding-bottom:0px;padding-top:0px;padding-left:0px;padding-right:0px;">
<span style="word-wrap:normal;word-break:normal;line-height:150%;"><span style="word-wrap:normal;word-break:normal;line-height:31px;font-size:large;"><strong style="font-weight:bold;line-height:31px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;font-size:medium;"><font size="3" style="word-wrap:normal;word-break:normal;line-height:28px;">3
Javamail快速入门</font></span></strong></span> <span></span><br style="line-height:28px;"/>

　　<span style="word-wrap:normal;word-break:normal;line-height:28px;font-size:medium;"><span style="word-wrap:normal;word-break:normal;line-height:22px;font-size:small;"><font size="2" style="word-wrap:normal;word-break:normal;line-height:22px;">进行Javamail开发需要用到两个包：mail.jar和activation.jar，在开始Javamail编程之前，请自己将这两个包添加到IDE的Build
path中或将这两个包的路径配置到环境变量中。 <span></span><br style="line-height:22px;"/>
3.1 使用Javamail向James的邮箱帐户发送邮件 <span></span><br style="line-height:22px;"/>
3.1.1 业务描述 <span></span><br style="line-height:22px;"/>
　　本例将使用Javamail实现邮件的发送功能。发送邮件需要配置邮件服务器属性信息，配置邮件接收地址，使用SMTP认证获得会话（Session），构建邮件体（MimeMessage），发送邮件。具体编码如下： <span></span><br style="line-height:22px;"/>

3.1.2 编码实现 <span></span><br style="line-height:22px;"/>
　　发送邮件需要两个类：一个是SMTP用户身份认证类（James在默认情况下，是需要SMTP身份认证的）；另一个就是我们的邮件发送类，为简单起见，我们直接将邮件的相关信息，如：标题、内容、发送者、接收者等信息直接写在类中，运行main()函数即发送。当然，你同样可以为自己的邮件发送系统构造一个邮件发送介面，通过Servlet将相关参数传递至后台进行处理与发送。其主要代码也就是此main()函数中的内容，故不赘述。</font></span></span> <span></span><br style="line-height:28px;"/>

<br style="line-height:28px;"/>
<span style="word-wrap:normal;word-break:normal;line-height:28px;font-size:medium;"><span style="word-wrap:normal;word-break:normal;line-height:22px;font-size:small;"><font size="2" style="word-wrap:normal;word-break:normal;line-height:22px;">SmtpAuth.java用户身份认证代码</font></span></span></span></p>
<div style="font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;color:rgb(51,51,51);line-height:28px;">
<div style="line-height:28px;">
<div style="line-height:28px;">Java代码 <span></span></div>
</div>
<ol style="margin:5px 0px 5px 40px;padding:0px;border:0px;list-style:none;padding-bottom:0px;padding-top:0px;padding-left:0px;line-height:28px;padding-right:0px;">
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">package</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>com.newland.javamail.sample1; <span></span> <span></span> <span></span>
 <span></span> <span></span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">class</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>SmtpAuth <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">extends</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>javax.mail.Authenticator <span></span>{ <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">private</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>String <span></span>user, <span></span>password; <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">public</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">void</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>setUserinfo(String <span></span>getuser, <span></span>String <span></span>getpassword) <span></span>{ <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>user <span></span>= <span></span>getuser; <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>password <span></span>= <span></span>getpassword; <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span>} <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">protected</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>javax.mail.PasswordAuthentication <span></span>getPasswordAuthenticatio<span></span>n() <span></span>{ <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">return</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">new</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>javax.mail.PasswordAuthentication(user, <span></span>password); <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span>} <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">public</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>String <span></span>getPassword() <span></span>{ <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">return</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>password; <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span>} <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">public</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">void</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>setPassword(String <span></span>password) <span></span>{ <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">this</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;">.password <span></span>= <span></span>password; <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span>} <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">public</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>String <span></span>getUser() <span></span>{ <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">return</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>user; <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span>} <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">public</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">void</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>setUser(String <span></span>user) <span></span>{ <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">this</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;">.user <span></span>= <span></span>user; <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span>} <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;">} <span></span> <span></span> <span></span></span></li>
</ol>
</div>
<p style="margin-bottom:5px;margin:0px 0px 10px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:28px;padding:0px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;color:rgb(51,51,51);padding-bottom:0px;padding-top:0px;padding-left:0px;padding-right:0px;">
 <span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;font-size:medium;"><span style="word-wrap:normal;word-break:normal;line-height:22px;font-size:small;"><font size="2" style="word-wrap:normal;word-break:normal;line-height:22px;">SendMail.java发送邮件代码</font></span></span></p>
<div style="font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;color:rgb(51,51,51);line-height:28px;">
<div style="line-height:28px;">
<div style="line-height:28px;">Java代码 <span></span></div>
</div>
<ol style="margin:5px 0px 5px 40px;padding:0px;border:0px;list-style:none;padding-bottom:0px;padding-top:0px;padding-left:0px;line-height:28px;padding-right:0px;">
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">package</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>com.newland.javamail.sample1; <span></span> <span></span> <span></span>
 <span></span> <span></span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">imp<span style="line-height:28px;"></span>ort</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>java.util.Properties; <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">imp<span style="line-height:28px;"></span>ort</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>javax.activation.DataHandler; <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">imp<span style="line-height:28px;"></span>ort</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>javax.activation.DataSource; <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">imp<span style="line-height:28px;"></span>ort</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>javax.activation.FileDataSource; <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">imp<span style="line-height:28px;"></span>ort</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>javax.mail.Message; <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">imp<span style="line-height:28px;"></span>ort</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>javax.mail.MessagingException; <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">imp<span style="line-height:28px;"></span>ort</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>javax.mail.Session; <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">imp<span style="line-height:28px;"></span>ort</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>javax.mail.Transport; <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">imp<span style="line-height:28px;"></span>ort</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>javax.mail.URLName; <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">imp<span style="line-height:28px;"></span>ort</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>javax.mail.internet.AddressException; <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">imp<span style="line-height:28px;"></span>ort</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>javax.mail.internet.InternetAddress; <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">imp<span style="line-height:28px;"></span>ort</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>javax.mail.internet.MimeBodyPart; <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">imp<span style="line-height:28px;"></span>ort</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>javax.mail.internet.MimeMessage; <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">imp<span style="line-height:28px;"></span>ort</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>javax.mail.internet.MimeMultipart; <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">public</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">class</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>SendMail <span></span>{ <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">public</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>SendMail() <span></span>{ <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#008200" style="word-wrap:normal;word-break:normal;line-height:28px;">// <span></span>TODO <span></span>Auto-generated <span></span>constructor <span></span>stub <span></span> <span></span> <span></span> <span></span></font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span>} <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">public</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">static</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">void</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>main(String[] <span></span>args) <span></span>{ <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#008200" style="word-wrap:normal;word-break:normal;line-height:28px;">// <span></span>初始化信息 <span></span> <span></span> <span></span> <span></span></font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>String <span></span>sender <span></span>= <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#0000FF" style="word-wrap:normal;word-break:normal;line-height:28px;">&quot;chenfengcn&quot;</font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;">; <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>String <span></span>password <span></span>= <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#0000FF" style="word-wrap:normal;word-break:normal;line-height:28px;">&quot;881213&quot;</font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;">; <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>String <span></span>smtpServer <span></span>= <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#0000FF" style="word-wrap:normal;word-break:normal;line-height:28px;">&quot;localhost&quot;</font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;">; <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>String <span></span>recipient <span></span>= <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#0000FF" style="word-wrap:normal;word-break:normal;line-height:28px;">&quot;chenfengcn@localhost&quot;</font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;">; <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>String <span></span>subject <span></span>= <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#0000FF" style="word-wrap:normal;word-break:normal;line-height:28px;">&quot;测试邮件主题&quot;</font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;">; <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>String <span></span>fileAttachment <span></span>= <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#0000FF" style="word-wrap:normal;word-break:normal;line-height:28px;">&quot;&quot;</font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;">; <span></span> <span></span> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#008200" style="word-wrap:normal;word-break:normal;line-height:28px;">//附件 <span></span> <span></span> <span></span> <span></span></font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>String <span></span>content <span></span>= <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#0000FF" style="word-wrap:normal;word-break:normal;line-height:28px;">&quot;测试邮件内容&quot;</font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;">; <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#008200" style="word-wrap:normal;word-break:normal;line-height:28px;">// <span></span>配置服务器属性 <span></span> <span></span> <span></span> <span></span></font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>Properties <span></span>proper <span></span>= <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">new</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>Properties(); <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>proper.put(</span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#0000FF" style="word-wrap:normal;word-break:normal;line-height:28px;">&quot;mail.smtp.host&quot;</font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;">, <span></span>smtpServer); <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#008200" style="word-wrap:normal;word-break:normal;line-height:28px;">// <span></span>smtp服务器 <span></span> <span></span> <span></span> <span></span></font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>proper.put(</span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#0000FF" style="word-wrap:normal;word-break:normal;line-height:28px;">&quot;mail.smtp.auth&quot;</font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;">, <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#0000FF" style="word-wrap:normal;word-break:normal;line-height:28px;">&quot;true&quot;</font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;">); <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#008200" style="word-wrap:normal;word-break:normal;line-height:28px;">// <span></span>是否smtp认证 <span></span> <span></span> <span></span> <span></span></font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>proper.put(</span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#0000FF" style="word-wrap:normal;word-break:normal;line-height:28px;">&quot;mail.smtp.port&quot;</font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;">, <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#0000FF" style="word-wrap:normal;word-break:normal;line-height:28px;">&quot;25&quot;</font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;">); <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#008200" style="word-wrap:normal;word-break:normal;line-height:28px;">// <span></span>设置smtp端口 <span></span> <span></span> <span></span> <span></span></font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>proper.put(</span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#0000FF" style="word-wrap:normal;word-break:normal;line-height:28px;">&quot;mail.transport.protocol&quot;</font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;">, <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#0000FF" style="word-wrap:normal;word-break:normal;line-height:28px;">&quot;smtp&quot;</font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;">); <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#008200" style="word-wrap:normal;word-break:normal;line-height:28px;">// <span></span>发邮件协议 <span></span> <span></span> <span></span> <span></span></font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>proper.put(</span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#0000FF" style="word-wrap:normal;word-break:normal;line-height:28px;">&quot;mail.store.protocol&quot;</font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;">, <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#0000FF" style="word-wrap:normal;word-break:normal;line-height:28px;">&quot;pop3&quot;</font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;">); <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#008200" style="word-wrap:normal;word-break:normal;line-height:28px;">// <span></span>收邮件协议 <span></span> <span></span> <span></span> <span></span></font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#008200" style="word-wrap:normal;word-break:normal;line-height:28px;">// <span></span>配置邮件接收地址 <span></span> <span></span> <span></span> <span></span></font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>InternetAddress[] <span></span>receiveAddress <span></span>= <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">new</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>InternetAddress[</span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#C00000" style="word-wrap:normal;word-break:normal;line-height:28px;">1</font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;">]; <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">try</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>{ <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>receiveAddress[</span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#C00000" style="word-wrap:normal;word-break:normal;line-height:28px;">0</font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;">] <span></span>= <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">new</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>InternetAddress(recipient); <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>} <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">catch</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>(AddressException <span></span>e) <span></span>{ <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#008200" style="word-wrap:normal;word-break:normal;line-height:28px;">// <span></span>TODO <span></span>Auto-generated <span></span>catch <span></span>block <span></span> <span></span> <span></span> <span></span></font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>e.printStackTrace(); <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>} <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#008200" style="word-wrap:normal;word-break:normal;line-height:28px;">// <span></span>smtp认证，获取Session <span></span> <span></span> <span></span> <span></span></font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>SmtpAuth <span></span>sa <span></span>= <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">new</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>SmtpAuth(); <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>sa.setUserinfo(sender, <span></span>password); <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>Session <span></span>session <span></span>= <span></span>Session.getInstance(proper, <span></span>sa); <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>session.setPasswordAuthenticatio<span></span>n(</span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">new</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>URLName(smtpServer), <span></span>sa <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>.getPasswordAuthenticatio<span></span>n()); <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#008200" style="word-wrap:normal;word-break:normal;line-height:28px;">// <span></span>构建邮件体 <span></span> <span></span> <span></span> <span></span></font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>MimeMessage <span></span>sendMess <span></span>= <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">new</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>MimeMessage(session); <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>MimeBodyPart <span></span>mbp <span></span>= <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">new</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>MimeBodyPart(); <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>MimeMultipart <span></span>mmp <span></span>= <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">new</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>MimeMultipart(); <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">try</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>{ <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#008200" style="word-wrap:normal;word-break:normal;line-height:28px;">// <span></span>邮件文本内容 <span></span> <span></span> <span></span> <span></span></font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>mbp.setContent(content, <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#0000FF" style="word-wrap:normal;word-break:normal;line-height:28px;">&quot;text/plain; <span></span>charset=GBK&quot;</font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;">); <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>mmp.addBodyPart(mbp); <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#008200" style="word-wrap:normal;word-break:normal;line-height:28px;">// <span></span>附件处理 <span></span> <span></span> <span></span> <span></span></font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">if</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;">(fileAttachment!=</span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">null</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;">&amp;&amp;fileAttachment!=</span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#0000FF" style="word-wrap:normal;word-break:normal;line-height:28px;">&quot;&quot;</font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;">){ <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>DataSource <span></span>source <span></span>= <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">new</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>FileDataSource(fileAttachment); <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>String <span></span>name <span></span>= <span></span>source.getName(); <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>mbp <span></span>= <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">new</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>MimeBodyPart(); <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>mbp.setDataHandler(</span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">new</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>DataHandler(source)); <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>mbp.setFileName(name); <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>mmp.addBodyPart(mbp); <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>} <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#008200" style="word-wrap:normal;word-break:normal;line-height:28px;">// <span></span>邮件整体 <span></span> <span></span> <span></span> <span></span></font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>sendMess.setSubject(subject); <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>sendMess.setContent(mmp); <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#008200" style="word-wrap:normal;word-break:normal;line-height:28px;">// <span></span>发送邮件 <span></span> <span></span> <span></span> <span></span></font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>sendMess.setFrom(</span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">new</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>InternetAddress(sender)); <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>sendMess.setRecipients(Message.RecipientType.TO, <span></span>receiveAddress); <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>Transport.send(sendMess); <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>System.out.println(</span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#0000FF" style="word-wrap:normal;word-break:normal;line-height:28px;">&quot;发送成功&quot;</font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;">); <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>} <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">catch</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>(MessagingException <span></span>ex) <span></span>{ <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>ex.printStackTrace(); <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>} <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span>} <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;">} <span></span> <span></span> <span></span></span></li>
</ol>
</div>
<p style="margin-bottom:5px;margin:0px 0px 10px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:28px;padding:0px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;color:rgb(51,51,51);padding-bottom:0px;padding-top:0px;padding-left:0px;padding-right:0px;">
 <span></span></p>
<p style="margin-bottom:5px;margin:0px 0px 10px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:28px;padding:0px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;color:rgb(51,51,51);padding-bottom:0px;padding-top:0px;padding-left:0px;padding-right:0px;">
<span style="word-wrap:normal;word-break:normal;line-height:28px;font-size:medium;"><span style="word-wrap:normal;word-break:normal;line-height:22px;font-size:small;"><font size="2" style="word-wrap:normal;word-break:normal;line-height:22px;">值得一提的是，本程序已经实现了带附件邮件的发送功能，如果要发送带附件的邮件，则只需要将附件的路径传到fileAttachment变量中就可以了。邮件发送成功后，程序将在后台打印出“发送成功”，这样我们就完成了邮件发送功能。那么，我们应该如何检验服务器是否确实收到我们发送的测试邮件呢？Javamail可以发送邮件，当然也能接收邮件啦，下面让我们一起使用Javamail编写邮件接收功能来检验吧。 <span></span><br style="line-height:22px;"/>

<br style="line-height:22px;"/>
3.2 使用Javamail接收邮件 <span></span><br style="line-height:22px;"/>
3.2.1 业务描述 <span></span><br style="line-height:22px;"/>
　　在上一节，我们已经向James的chenfengcn用户发送了一封测试邮件，我们应该如何使用Javamail来收取这封邮件呢？ <span></span><br style="line-height:22px;"/>

　　为读取邮件，必须首先设置服务器属性(Properties)，获取一个会话(Session)，然后获取并连接邮箱所在的存储器（Store对象），打开该用户的邮箱(Folder)，获取所希望阅读的消息，最后关闭目录和连接。 <span></span><br style="line-height:22px;"/>

　　下面的程序实现了接收chenfengcn@localhost邮箱中所有邮件，并将发送人和主题打印出来。 <span></span><br style="line-height:22px;"/>

<br style="line-height:22px;"/>
3.2.2 编码实现</font></span></span> <span></span><br style="line-height:28px;"/></p>
<div style="font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;color:rgb(51,51,51);line-height:28px;">
<div style="line-height:28px;">
<div style="line-height:28px;">Java代码 <span></span></div>
</div>
<ol style="margin:5px 0px 5px 40px;padding:0px;border:0px;list-style:none;padding-bottom:0px;padding-top:0px;padding-left:0px;line-height:28px;padding-right:0px;">
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">package</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>com.newland.javamail.sample1; <span></span> <span></span> <span></span>
 <span></span> <span></span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">imp<span style="line-height:28px;"></span>ort</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>java.util.Properties; <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">imp<span style="line-height:28px;"></span>ort</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>javax.mail.Folder; <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">imp<span style="line-height:28px;"></span>ort</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>javax.mail.Message; <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">imp<span style="line-height:28px;"></span>ort</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>javax.mail.MessagingException; <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">imp<span style="line-height:28px;"></span>ort</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>javax.mail.NoSuchProviderException; <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">imp<span style="line-height:28px;"></span>ort</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>javax.mail.Session; <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">imp<span style="line-height:28px;"></span>ort</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>javax.mail.Store; <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">public</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">class</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>ReceiveMail <span></span>{ <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">public</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>ReceiveMail() <span></span>{ <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span>} <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">public</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">static</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">void</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>main(String[] <span></span>args) <span></span>{ <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#008200" style="word-wrap:normal;word-break:normal;line-height:28px;">// <span></span>初始化主机 <span></span> <span></span> <span></span> <span></span></font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>String <span></span>host <span></span>= <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#0000FF" style="word-wrap:normal;word-break:normal;line-height:28px;">&quot;localhost&quot;</font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;">; <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>String <span></span>username <span></span>= <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#0000FF" style="word-wrap:normal;word-break:normal;line-height:28px;">&quot;chenfengcn&quot;</font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;">; <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>String <span></span>password <span></span>= <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#0000FF" style="word-wrap:normal;word-break:normal;line-height:28px;">&quot;881213&quot;</font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;">; <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#008200" style="word-wrap:normal;word-break:normal;line-height:28px;">// <span></span>配置服务器属性 <span></span> <span></span> <span></span> <span></span></font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>Properties <span></span>props <span></span>= <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">new</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>Properties(); <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>props.put(</span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#0000FF" style="word-wrap:normal;word-break:normal;line-height:28px;">&quot;mail.smtp.host&quot;</font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;">, <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#0000FF" style="word-wrap:normal;word-break:normal;line-height:28px;">&quot;localhost&quot;</font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;">); <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#008200" style="word-wrap:normal;word-break:normal;line-height:28px;">// <span></span>smtp服务器 <span></span> <span></span> <span></span> <span></span></font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>props.put(</span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#0000FF" style="word-wrap:normal;word-break:normal;line-height:28px;">&quot;mail.smtp.auth&quot;</font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;">, <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#0000FF" style="word-wrap:normal;word-break:normal;line-height:28px;">&quot;true&quot;</font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;">); <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#008200" style="word-wrap:normal;word-break:normal;line-height:28px;">// <span></span>是否smtp认证 <span></span> <span></span> <span></span> <span></span></font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>props.put(</span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#0000FF" style="word-wrap:normal;word-break:normal;line-height:28px;">&quot;mail.smtp.port&quot;</font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;">, <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#0000FF" style="word-wrap:normal;word-break:normal;line-height:28px;">&quot;25&quot;</font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;">); <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#008200" style="word-wrap:normal;word-break:normal;line-height:28px;">// <span></span>设置smtp端口 <span></span> <span></span> <span></span> <span></span></font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>props.put(</span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#0000FF" style="word-wrap:normal;word-break:normal;line-height:28px;">&quot;mail.transport.protocol&quot;</font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;">, <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#0000FF" style="word-wrap:normal;word-break:normal;line-height:28px;">&quot;smtp&quot;</font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;">); <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#008200" style="word-wrap:normal;word-break:normal;line-height:28px;">// <span></span>发邮件协议 <span></span> <span></span> <span></span> <span></span></font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>props.put(</span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#0000FF" style="word-wrap:normal;word-break:normal;line-height:28px;">&quot;mail.store.protocol&quot;</font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;">, <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#0000FF" style="word-wrap:normal;word-break:normal;line-height:28px;">&quot;pop3&quot;</font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;">); <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#008200" style="word-wrap:normal;word-break:normal;line-height:28px;">// <span></span>收邮件协议 <span></span> <span></span> <span></span> <span></span></font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#008200" style="word-wrap:normal;word-break:normal;line-height:28px;">// <span></span>获取会话 <span></span> <span></span> <span></span> <span></span></font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>Session <span></span>session <span></span>= <span></span>Session.getDefaultInstance(props, <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">null</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;">); <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#008200" style="word-wrap:normal;word-break:normal;line-height:28px;">// <span></span>获取Store对象，使用POP3协议，也可能使用IMAP协议 <span></span> <span></span> <span></span> <span></span></font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">try</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>{ <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>Store <span></span>store <span></span>= <span></span>session.getStore(</span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#0000FF" style="word-wrap:normal;word-break:normal;line-height:28px;">&quot;pop3&quot;</font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;">); <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#008200" style="word-wrap:normal;word-break:normal;line-height:28px;">// <span></span>连接到邮件服务器 <span></span> <span></span> <span></span> <span></span></font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>store.connect(host, <span></span>username, <span></span>password); <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#008200" style="word-wrap:normal;word-break:normal;line-height:28px;">// <span></span>获取该用户Folder对象，并以只读方式打开 <span></span> <span></span> <span></span> <span></span></font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>Folder <span></span>folder <span></span>= <span></span>store.getFolder(</span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#0000FF" style="word-wrap:normal;word-break:normal;line-height:28px;">&quot;inbox&quot;</font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;">); <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>folder.open(Folder.READ_ON<span style="line-height:28px;"></span>LY); <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#008200" style="word-wrap:normal;word-break:normal;line-height:28px;">// <span></span>检索所有邮件，按需填充 <span></span> <span></span> <span></span> <span></span></font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>Message <span></span>message[] <span></span>= <span></span>folder.getMessages(); <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">for</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>(</span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">int</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>i <span></span>= <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#C00000" style="word-wrap:normal;word-break:normal;line-height:28px;">0</font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;">; <span></span>i <span></span>&lt; <span></span>message.length; <span></span>i++) <span></span>{ <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#008200" style="word-wrap:normal;word-break:normal;line-height:28px;">// <span></span>打印出每个邮件的发件人和主题 <span></span> <span></span> <span></span> <span></span></font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>System.out.println(i <span></span>+ <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#0000FF" style="word-wrap:normal;word-break:normal;line-height:28px;">&quot;:&quot;</font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>+ <span></span>message[i].getFrom()[</span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#C00000" style="word-wrap:normal;word-break:normal;line-height:28px;">0</font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;">] <span></span>+ <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#0000FF" style="word-wrap:normal;word-break:normal;line-height:28px;">&quot;\t&quot;</font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>+ <span></span>message[i].getSubject()); <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>} <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>folder.close(</span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">false</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;">); <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>store.close(); <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>} <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">catch</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>(NoSuchProviderException <span></span>e) <span></span>{ <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#008200" style="word-wrap:normal;word-break:normal;line-height:28px;">// <span></span>TODO <span></span>Auto-generated <span></span>catch <span></span>block <span></span> <span></span> <span></span> <span></span></font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>e.printStackTrace(); <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>} <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">catch</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>(MessagingException <span></span>e) <span></span>{ <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#008200" style="word-wrap:normal;word-break:normal;line-height:28px;">// <span></span>TODO <span></span>Auto-generated <span></span>catch <span></span>block <span></span> <span></span> <span></span> <span></span></font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>e.printStackTrace(); <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>} <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span>} <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;">} <span></span> <span></span> <span></span> <span></span></span></li>
</ol>
</div>
<p style="margin-bottom:5px;margin:0px 0px 10px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:28px;padding:0px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;color:rgb(51,51,51);padding-bottom:0px;padding-top:0px;padding-left:0px;padding-right:0px;">
 <span></span></p>
<p style="margin-bottom:5px;margin:0px 0px 10px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:28px;padding:0px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;color:rgb(51,51,51);padding-bottom:0px;padding-top:0px;padding-left:0px;padding-right:0px;">
<span style="word-wrap:normal;word-break:normal;line-height:28px;font-size:medium;"><span style="word-wrap:normal;word-break:normal;line-height:22px;font-size:small;"><font size="2" style="word-wrap:normal;word-break:normal;line-height:22px;">程序运行成功后，将会把chenfengcn用户的邮件从James服务器中取出，并将此邮箱中所有邮件的发件人、主题打印在后台。若要打印该邮件的内容等信息，则只要将message[i]对象中的邮件内容等信息读取出来就可以了。 <span></span><br style="line-height:22px;"/>

　　注：鉴于邮件的存储结构（将在第五章介绍），读取邮件附件是一个比较复杂的过程，因为邮件的文本内容和附件信息都是保存在BodyPart对象中的，BodyPart用于标识类型的标记不明确，造成对附件的判断较为复杂。对于附件的操作本人将在今后的改进版本中加以介绍。</font></span></span></p>
<div><strong style="font-weight:bold;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;color:rgb(51,51,51);line-height:28px;">
<font size="3" style="word-wrap:normal;word-break:normal;line-height:28px;">4
Mailet快速入门</font></strong><span style="word-wrap:normal;word-break:normal;line-height:28px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;color:rgb(51,51,51);"> <span></span></span><br style="font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;line-height:28px;"/>

<span style="word-wrap:normal;word-break:normal;line-height:28px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;color:rgb(51,51,51);">
　　</span><span style="word-wrap:normal;word-break:normal;line-height:28px;font-size:medium;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;color:rgb(51,51,51);"><span style="word-wrap:normal;word-break:normal;line-height:22px;font-size:small;"><font size="2" style="word-wrap:normal;word-break:normal;line-height:22px;">Mailet
API是一个用来创建邮件处理程序的简单的API,它被配置在邮件服务器端执行,分匹配器Matcher和Mailet的接口两种,匹配器根据特定的条件匹配邮件消息,并触发相应的Mailet. <span></span><br style="line-height:22px;"/>

　　Mailet这个词是跟Servlet相似,功能也相似,他们的共同之处都是在服务器端触发并执行,只是Servlet的Matcher通常是url的pattern,跟Servlet的接口一样,Mailet也有init()方法,service()方法和destroy()方法.即他们都有类似的生命周期.
Mailet的简单可编程接口可以用来做一些邮件处理,比如反垃圾邮件,检查邮件病毒以及邮件博客等等,利用移动设备可发送email的功能,可以做到手机通过mail发送信息到邮件服务器交给Mailet处理,形成移动博客的模型. <span></span><br style="line-height:22px;"/>

　　Mailet的运行需要mailet-2.3.jar和mailet-api-2.3.jar两个包的支持，James本身就有这两个包，可不作修改，但在开发的时候还是需要开发者自己将这两个包导入到工程的Build
path中或配置到系统环境变量中。 <span></span><br style="line-height:22px;"/>
4.1 用Mailet做一个Hello的例子 <span></span><br style="line-height:22px;"/>
4.1.1 业务描述 <span></span><br style="line-height:22px;"/>
　　我们要实现当外部发送给James服务器中名字含hello的邮箱时，服务器在这封邮件的主题前加入“Hello”，并在服务器后台输出“Received
a piece of
Email”。如前所述，Mailet包括匹配器Matcher和Mailet两种接口，现在就让我们用Mailet　API实现这两个接口吧。 <span></span><br style="line-height:22px;"/>

<br style="line-height:22px;"/>
4.1.2 编码实现 <span></span><br style="line-height:22px;"/>
<br style="line-height:22px;"/>
匹配器BizMatcher.java</font></span></span>
<div style="font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;color:rgb(51,51,51);line-height:28px;">
<div style="line-height:28px;">
<div style="line-height:28px;">Java代码 <span></span></div>
</div>
<ol style="margin:5px 0px 5px 40px;padding:0px;border:0px;list-style:none;padding-bottom:0px;padding-top:0px;padding-left:0px;line-height:28px;padding-right:0px;">
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">package</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>com.newland.james.mailet.sample1; <span></span> <span></span> <span></span>
 <span></span> <span></span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">imp<span style="line-height:28px;"></span>ort</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>org.apache.mailet.GenericRecipientMatcher; <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">imp<span style="line-height:28px;"></span>ort</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>org.apache.mailet.MailAddress; <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">public</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">class</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>BizMatcher <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">extends</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>GenericRecipientMatcher <span></span>{ <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">public</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">boolean</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>matchRecipient(MailAddress <span></span>recipient) <span></span>{ <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#008200" style="word-wrap:normal;word-break:normal;line-height:28px;">// <span></span>邮件地址必须包含hello的 <span></span> <span></span> <span></span> <span></span></font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">if</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>(recipient.getUser().indexOf(</span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#0000FF" style="word-wrap:normal;word-break:normal;line-height:28px;">&quot;hello&quot;</font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;">) <span></span>!= <span></span>-</span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#C00000" style="word-wrap:normal;word-break:normal;line-height:28px;">1</font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;">) <span></span>{ <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">return</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">true</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;">; <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>} <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">return</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">false</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;">; <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span>} <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;">} <span></span> <span></span> <span></span></span></li>
</ol>
</div>
<p style="margin-bottom:5px;margin:0px 0px 10px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:28px;padding:0px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;color:rgb(51,51,51);padding-bottom:0px;padding-top:0px;padding-left:0px;padding-right:0px;">
 <span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;font-size:medium;"><span style="word-wrap:normal;word-break:normal;line-height:22px;font-size:small;">BizMaillet.java</span></span> <span></span></p>
<div style="font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;color:rgb(51,51,51);line-height:28px;">
<div style="line-height:28px;">
<div style="line-height:28px;">Java代码 <span></span></div>
</div>
<ol style="margin:5px 0px 5px 40px;padding:0px;border:0px;list-style:none;padding-bottom:0px;padding-top:0px;padding-left:0px;line-height:28px;padding-right:0px;">
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">package</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>com.newland.james.mailet.sample1; <span></span> <span></span> <span></span>
 <span></span> <span></span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">imp<span style="line-height:28px;"></span>ort</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>java.io.IOException; <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">imp<span style="line-height:28px;"></span>ort</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>javax.mail.MessagingException; <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">imp<span style="line-height:28px;"></span>ort</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>javax.mail.internet.MimeMessage; <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">imp<span style="line-height:28px;"></span>ort</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>org.apache.mailet.GenericMailet; <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">imp<span style="line-height:28px;"></span>ort</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>org.apache.mailet.Mail; <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">public</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">class</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>BizMaillet <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">extends</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>GenericMailet <span></span>{ <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">public</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">void</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>init() <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">throws</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>MessagingException <span></span>{ <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span>} <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">public</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">void</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>service(Mail <span></span>mail) <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#7F0055" style="word-wrap:normal;word-break:normal;line-height:28px;">throws</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span>MessagingException <span></span>{ <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>MimeMessage <span></span>mmp; <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>mmp <span></span>= <span></span>(MimeMessage) <span></span>mail.getMessage(); <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>mmp.setSubject(</span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#0000FF" style="word-wrap:normal;word-break:normal;line-height:28px;">&quot;Hello <span></span>&quot;</font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;">+mmp.getSubject()); <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span>System.out.println(</span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#0000FF" style="word-wrap:normal;word-break:normal;line-height:28px;">&quot;Received <span></span>a <span></span>piece <span></span>of <span></span>Email&quot;</font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;">); <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span>} <span></span> <span></span> <span></span>
 <span></span> <span></span></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;">} <span></span> <span></span> <span></span></span></li>
</ol>
</div>
<p style="margin-bottom:5px;margin:0px 0px 10px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:28px;padding:0px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;color:rgb(51,51,51);padding-bottom:0px;padding-top:0px;padding-left:0px;padding-right:0px;">
 <span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;font-size:medium;"><span style="word-wrap:normal;word-break:normal;line-height:22px;font-size:small;">4.1.3
配置部署 <span></span><br style="line-height:22px;"/>
　　Mailet跟Servlet一样，是服务器端程序，是不能直接在客户端运行的，必须要部署到服务器端方可生效。部署具体步骤如下： <span></span><br style="line-height:22px;"/>

1、 将我们编写的Matcher和Mailet打包成jar文件； <span></span><br style="line-height:22px;"/>
2、在\james-2.3.1\apps\james\SAR-INF目录下新建一个lib文件夹； <span></span><br style="line-height:22px;"/>

3、 将打包好的jar文件复制到刚刚新建的lib文件夹下； <span></span><br style="line-height:22px;"/>
4、 打开config.xml配置文件，找到以下这段代码：</span></span> <span></span></p>
<div style="font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;color:rgb(51,51,51);line-height:28px;">
<div style="line-height:28px;">
<div style="line-height:28px;">Xml代码 <span></span></div>
</div>
<ol style="margin:5px 0px 5px 40px;padding:0px;border:0px;list-style:none;padding-bottom:0px;padding-top:0px;padding-left:0px;line-height:28px;padding-right:0px;">
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#006699" style="word-wrap:normal;word-break:normal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;">&lt;&lt;/span&gt;<span style="word-wrap:normal;word-break:normal;line-height:28px;">mailetpackages</span><span style="word-wrap:normal;word-break:normal;line-height:28px;">&gt;</span></span></font><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span>
 <span></span> <span></span></span></strong></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#006699" style="word-wrap:normal;word-break:normal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;">&lt;&lt;/span&gt;<span style="word-wrap:normal;word-break:normal;line-height:28px;">mailetpackage</span><span style="word-wrap:normal;word-break:normal;line-height:28px;">&gt;</span></span></font><span style="word-wrap:normal;word-break:normal;line-height:28px;">org.apache.james.transport.mailets</span><strong style="font-weight:bold;line-height:28px;"><font color="#006699" style="word-wrap:normal;word-break:normal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;">&lt;/&lt;/span&gt;<span style="word-wrap:normal;word-break:normal;line-height:28px;">mailetpackage</span><span style="word-wrap:normal;word-break:normal;line-height:28px;">&gt;</span></span></font><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span>
 <span></span> <span></span></span></strong></strong></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#006699" style="word-wrap:normal;word-break:normal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;">&lt;&lt;/span&gt;<span style="word-wrap:normal;word-break:normal;line-height:28px;">mailetpackage</span><span style="word-wrap:normal;word-break:normal;line-height:28px;">&gt;</span></span></font><span style="word-wrap:normal;word-break:normal;line-height:28px;">org.apache.james.transport.mailets.smime</span><strong style="font-weight:bold;line-height:28px;"><font color="#006699" style="word-wrap:normal;word-break:normal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;">&lt;/&lt;/span&gt;<span style="word-wrap:normal;word-break:normal;line-height:28px;">mailetpackage</span><span style="word-wrap:normal;word-break:normal;line-height:28px;">&gt;</span><span style="word-wrap:normal;word-break:normal;line-height:28px;">&lt;/&lt;/span&gt;<span style="word-wrap:normal;word-break:normal;line-height:28px;">mailetpackages</span><span style="word-wrap:normal;word-break:normal;line-height:28px;">&gt;</span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span>
 <span></span> <span></span></span></font></strong></strong></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#006699" style="word-wrap:normal;word-break:normal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;">&lt;&lt;/span&gt;<span style="word-wrap:normal;word-break:normal;line-height:28px;">matcherpackages</span><span style="word-wrap:normal;word-break:normal;line-height:28px;">&gt;</span></span></font><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span>
 <span></span> <span></span></span></strong></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#006699" style="word-wrap:normal;word-break:normal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;">&lt;&lt;/span&gt;<span style="word-wrap:normal;word-break:normal;line-height:28px;">matcherpackage</span><span style="word-wrap:normal;word-break:normal;line-height:28px;">&gt;</span></span></font><span style="word-wrap:normal;word-break:normal;line-height:28px;">org.apache.james.transport.matchers</span><strong style="font-weight:bold;line-height:28px;"><font color="#006699" style="word-wrap:normal;word-break:normal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;">&lt;/&lt;/span&gt;<span style="word-wrap:normal;word-break:normal;line-height:28px;">matcherpackage</span><span style="word-wrap:normal;word-break:normal;line-height:28px;">&gt;</span></span></font><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span>
 <span></span> <span></span></span></strong></strong></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#006699" style="word-wrap:normal;word-break:normal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;">&lt;&lt;/span&gt;<span style="word-wrap:normal;word-break:normal;line-height:28px;">matcherpackage</span><span style="word-wrap:normal;word-break:normal;line-height:28px;">&gt;</span></span></font><span style="word-wrap:normal;word-break:normal;line-height:28px;">org.apache.james.transport.matchers.smime</span><strong style="font-weight:bold;line-height:28px;"><font color="#006699" style="word-wrap:normal;word-break:normal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;">&lt;/&lt;/span&gt;<span style="word-wrap:normal;word-break:normal;line-height:28px;">matcherpackage</span><span style="word-wrap:normal;word-break:normal;line-height:28px;">&gt;</span><span style="word-wrap:normal;word-break:normal;line-height:28px;">&lt;/&lt;/span&gt;<span style="word-wrap:normal;word-break:normal;line-height:28px;">matcherpackages</span><span style="word-wrap:normal;word-break:normal;line-height:28px;">&gt;</span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span></span></font></strong></strong></li>
</ol>
</div>
<p style="margin-bottom:5px;margin:0px 0px 10px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:28px;padding:0px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;color:rgb(51,51,51);padding-bottom:0px;padding-top:0px;padding-left:0px;padding-right:0px;">
 <span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;font-size:medium;"><span style="word-wrap:normal;word-break:normal;line-height:22px;font-size:small;">前半部分是用于配置Mailet包所在位置，后半部分是用于配置Matcher包所在位置，我们把我们刚编写的Mailet和Matcher所在位置配置进去就可以了。配置后的结果如下：</span></span> <span></span></p>
<div>
<div style="font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;color:rgb(51,51,51);line-height:28px;">
<div style="line-height:28px;">Xml代码 <span></span></div>
</div>
<ol style="margin:5px 0px 5px 40px;padding:0px;border:0px;list-style:none;padding-bottom:0px;padding-top:0px;padding-left:0px;padding-right:0px;">
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;color:rgb(51,51,51);line-height:28px;">
<span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#006699" style="word-wrap:normal;word-break:normal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;">&lt;&lt;/span&gt;<span style="word-wrap:normal;word-break:normal;line-height:28px;">mailetpackages</span><span style="word-wrap:normal;word-break:normal;line-height:28px;">&gt;</span></span></font><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span>
 <span></span> <span></span></span></strong></span></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;"><strong style="font-weight:bold;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;color:rgb(51,51,51);line-height:28px;">
<font color="#006699" style="word-wrap:normal;word-break:normal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;">&lt;&lt;/span&gt;<span style="word-wrap:normal;word-break:normal;line-height:28px;">mailetpackage</span><span style="word-wrap:normal;word-break:normal;line-height:28px;">&gt;</span></span></font><font size="+0" style="word-wrap:normal;word-break:normal;line-height:150%;"><font color="#333333" style="word-wrap:normal;word-break:normal;line-height:150%;"><span style="word-wrap:normal;word-break:normal;line-height:27px;font-size:15px;">com.newland.javamail.sample1</span></font><font color="#006699" style="word-wrap:normal;word-break:normal;line-height:28px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;color:rgb(51,51,51);"><span style="word-wrap:normal;word-break:normal;line-height:28px;"><b>&lt;/&lt;/b&gt;</b></span><span style="word-wrap:normal;word-break:normal;line-height:28px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;font-weight:bold;color:rgb(0,102,153);">mailetpackage</span><span style="word-wrap:normal;word-break:normal;line-height:28px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;font-weight:bold;color:rgb(0,102,153);">&gt;</span></font><span style="word-wrap:normal;word-break:normal;line-height:28px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;color:rgb(51,51,51);"> <span></span> <span></span>
 <span></span> <span></span></span></font></strong></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;color:rgb(51,51,51);line-height:28px;">
<strong style="font-weight:bold;line-height:28px;"><font color="#006699" style="word-wrap:normal;word-break:normal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;">&lt;&lt;/span&gt;<span style="word-wrap:normal;word-break:normal;line-height:28px;">mailetpackage</span><span style="word-wrap:normal;word-break:normal;line-height:28px;">&gt;</span></span></font><span style="word-wrap:normal;word-break:normal;line-height:28px;">org.apache.james.transport.mailets</span><strong style="font-weight:bold;line-height:28px;"><font color="#006699" style="word-wrap:normal;word-break:normal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;">&lt;/&lt;/span&gt;<span style="word-wrap:normal;word-break:normal;line-height:28px;">mailetpackage</span><span style="word-wrap:normal;word-break:normal;line-height:28px;">&gt;</span></span></font><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span>
 <span></span> <span></span></span></strong></strong></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;color:rgb(51,51,51);line-height:28px;">
<strong style="font-weight:bold;line-height:28px;"><font color="#006699" style="word-wrap:normal;word-break:normal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;">&lt;&lt;/span&gt;<span style="word-wrap:normal;word-break:normal;line-height:28px;">mailetpackage</span><span style="word-wrap:normal;word-break:normal;line-height:28px;">&gt;</span></span></font><span style="word-wrap:normal;word-break:normal;line-height:28px;">org.apache.james.transport.mailets.smime</span><strong style="font-weight:bold;line-height:28px;"><font color="#006699" style="word-wrap:normal;word-break:normal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;">&lt;/&lt;/span&gt;<span style="word-wrap:normal;word-break:normal;line-height:28px;">mailetpackage</span><span style="word-wrap:normal;word-break:normal;line-height:28px;">&gt;</span></span></font><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span>
 <span></span> <span></span></span></strong></strong></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;color:rgb(51,51,51);line-height:28px;">
<strong style="font-weight:bold;line-height:28px;"><font color="#006699" style="word-wrap:normal;word-break:normal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;">&lt;/&lt;/span&gt;<span style="word-wrap:normal;word-break:normal;line-height:28px;">mailetpackages</span><span style="word-wrap:normal;word-break:normal;line-height:28px;">&gt;</span></span></font><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span>
 <span></span> <span></span></span></strong></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;color:rgb(51,51,51);line-height:28px;">
<strong style="font-weight:bold;line-height:28px;"><font color="#006699" style="word-wrap:normal;word-break:normal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;">&lt;&lt;/span&gt;<span style="word-wrap:normal;word-break:normal;line-height:28px;">matcherpackages</span><span style="word-wrap:normal;word-break:normal;line-height:28px;">&gt;</span></span></font><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span>
 <span></span> <span></span></span></strong></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;"><strong style="font-weight:bold;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;color:rgb(51,51,51);line-height:28px;">
<font color="#006699" style="word-wrap:normal;word-break:normal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;">&lt;&lt;/span&gt;<span style="word-wrap:normal;word-break:normal;line-height:28px;">matcherpackage</span><span style="word-wrap:normal;word-break:normal;line-height:28px;">&gt;</span></span></font><font size="+0" style="word-wrap:normal;word-break:normal;line-height:150%;"><font color="#333333" style="word-wrap:normal;word-break:normal;line-height:150%;"><span style="word-wrap:normal;word-break:normal;line-height:27px;font-size:15px;">com.newland.javamail.sample1</span></font><font color="#006699" style="word-wrap:normal;word-break:normal;line-height:28px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;color:rgb(51,51,51);"><span style="word-wrap:normal;word-break:normal;line-height:28px;"><b>&lt;/&lt;/b&gt;</b></span><span style="word-wrap:normal;word-break:normal;line-height:28px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;font-weight:bold;color:rgb(0,102,153);">matcherpackage</span><span style="word-wrap:normal;word-break:normal;line-height:28px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;font-weight:bold;color:rgb(0,102,153);">&gt;</span></font><span style="word-wrap:normal;word-break:normal;line-height:28px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;color:rgb(51,51,51);"> <span></span> <span></span>
 <span></span> <span></span></span></font></strong></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;color:rgb(51,51,51);line-height:28px;">
<strong style="font-weight:bold;line-height:28px;"><font color="#006699" style="word-wrap:normal;word-break:normal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;">&lt;&lt;/span&gt;<span style="word-wrap:normal;word-break:normal;line-height:28px;">matcherpackage</span><span style="word-wrap:normal;word-break:normal;line-height:28px;">&gt;</span></span></font><span style="word-wrap:normal;word-break:normal;line-height:28px;">org.apache.james.transport.matchers</span><strong style="font-weight:bold;line-height:28px;"><font color="#006699" style="word-wrap:normal;word-break:normal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;">&lt;/&lt;/span&gt;<span style="word-wrap:normal;word-break:normal;line-height:28px;">matcherpackage</span><span style="word-wrap:normal;word-break:normal;line-height:28px;">&gt;</span></span></font><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span>
 <span></span> <span></span></span></strong></strong></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;color:rgb(51,51,51);line-height:28px;">
<strong style="font-weight:bold;line-height:28px;"><font color="#006699" style="word-wrap:normal;word-break:normal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;">&lt;&lt;/span&gt;<span style="word-wrap:normal;word-break:normal;line-height:28px;">matcherpackage</span><span style="word-wrap:normal;word-break:normal;line-height:28px;">&gt;</span></span></font><span style="word-wrap:normal;word-break:normal;line-height:28px;">org.apache.james.transport.matchers.smime</span><strong style="font-weight:bold;line-height:28px;"><font color="#006699" style="word-wrap:normal;word-break:normal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;">&lt;/&lt;/span&gt;<span style="word-wrap:normal;word-break:normal;line-height:28px;">matcherpackage</span><span style="word-wrap:normal;word-break:normal;line-height:28px;">&gt;</span></span></font><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span>
 <span></span> <span></span></span></strong></strong></li>
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;color:rgb(51,51,51);line-height:28px;">
<strong style="font-weight:bold;line-height:28px;"><font color="#006699" style="word-wrap:normal;word-break:normal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;">&lt;/&lt;/span&gt;<span style="word-wrap:normal;word-break:normal;line-height:28px;">matcherpackages</span><span style="word-wrap:normal;word-break:normal;line-height:28px;">&gt;</span></span></font><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span></span></strong></li>
</ol>
</div>
<p style="margin-bottom:5px;margin:0px 0px 10px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:28px;padding:0px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;color:rgb(51,51,51);padding-bottom:0px;padding-top:0px;padding-left:0px;padding-right:0px;">
 <span></span>　　<span style="word-wrap:normal;word-break:normal;line-height:28px;font-size:medium;"><span style="word-wrap:normal;word-break:normal;line-height:22px;font-size:small;">这样就完成了包的配置。我们都知道，Mailet的工作过程是：首先由Matcher来匹配所接收到的邮件，然后提交给相应的Mailet处理，但是哪个匹配器对应哪个Mailet呢？我们还需要配置Mailet的对应关系。同样在config.xml中找到下面的代码：</span></span></p>
<p style="margin-bottom:5px;margin:0px 0px 10px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:28px;padding:0px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;color:rgb(51,51,51);padding-bottom:0px;padding-top:0px;padding-left:0px;padding-right:0px;">
 <span></span></p>
<div style="font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;color:rgb(51,51,51);line-height:28px;">
<div style="line-height:28px;">
<div style="line-height:28px;">Xml代码 <span></span></div>
</div>
<ol style="margin:5px 0px 5px 40px;padding:0px;border:0px;list-style:none;padding-bottom:0px;padding-top:0px;padding-left:0px;line-height:28px;padding-right:0px;">
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#006699" style="word-wrap:normal;word-break:normal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;">&lt;&lt;/span&gt;<span style="word-wrap:normal;word-break:normal;line-height:28px;">mailet</span></span></font><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#FF0000" style="word-wrap:normal;word-break:normal;line-height:28px;">match</font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;">=</span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#0000FF" style="word-wrap:normal;word-break:normal;line-height:28px;">&quot;All&quot;</font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#FF0000" style="word-wrap:normal;word-break:normal;line-height:28px;">class</font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;">=</span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#0000FF" style="word-wrap:normal;word-break:normal;line-height:28px;">&quot;PostmasterAlias&quot;</font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#006699" style="word-wrap:normal;word-break:normal;line-height:28px;">/&gt;</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span></span></strong></span></li>
</ol>
</div>
<p style="margin-bottom:5px;margin:0px 0px 10px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:28px;padding:0px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;color:rgb(51,51,51);padding-bottom:0px;padding-top:0px;padding-left:0px;padding-right:0px;">
 <span></span></p>
<p style="margin-bottom:5px;margin:0px 0px 10px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:28px;padding:0px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;color:rgb(51,51,51);padding-bottom:0px;padding-top:0px;padding-left:0px;padding-right:0px;">
 <span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;font-size:medium;"><span style="word-wrap:normal;word-break:normal;line-height:22px;font-size:small;">在这段代码下面加入我们自己的Mailet：</span></span></p>
<div style="font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;color:rgb(51,51,51);line-height:28px;">
<div style="line-height:28px;">
<div style="line-height:28px;">Xml代码 <span></span></div>
</div>
<ol style="margin:5px 0px 5px 40px;padding:0px;border:0px;list-style:none;padding-bottom:0px;padding-top:0px;padding-left:0px;line-height:28px;padding-right:0px;">
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#006699" style="word-wrap:normal;word-break:normal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;">&lt;&lt;/span&gt;<span style="word-wrap:normal;word-break:normal;line-height:28px;">mailet</span></span></font><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#FF0000" style="word-wrap:normal;word-break:normal;line-height:28px;">match</font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;">=</span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#0000FF" style="word-wrap:normal;word-break:normal;line-height:28px;">&quot;All&quot;</font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#FF0000" style="word-wrap:normal;word-break:normal;line-height:28px;">class</font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;">=</span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#0000FF" style="word-wrap:normal;word-break:normal;line-height:28px;">&quot;PostmasterAlias&quot;</font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#006699" style="word-wrap:normal;word-break:normal;line-height:28px;">/&gt;</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span></span></strong></span></li>
</ol>
</div>
<p style="margin-bottom:5px;margin:0px 0px 10px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:28px;padding:0px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;color:rgb(51,51,51);padding-bottom:0px;padding-top:0px;padding-left:0px;padding-right:0px;">
 <span></span></p>
<div style="font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;color:rgb(51,51,51);line-height:28px;">
<div style="line-height:28px;">
<div style="line-height:28px;">Xml代码 <span></span></div>
</div>
<ol style="margin:5px 0px 5px 40px;padding:0px;border:0px;list-style:none;padding-bottom:0px;padding-top:0px;padding-left:0px;line-height:28px;padding-right:0px;">
<li style="margin:0px;padding:0px;border:0px;list-style:none;margin-left:30px;list-style-type:decimal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#006699" style="word-wrap:normal;word-break:normal;line-height:28px;"><span style="word-wrap:normal;word-break:normal;line-height:28px;">&lt;&lt;/span&gt;<span style="word-wrap:normal;word-break:normal;line-height:28px;">mailet</span></span></font><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#FF0000" style="word-wrap:normal;word-break:normal;line-height:28px;">match</font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;">=</span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#0000FF" style="word-wrap:normal;word-break:normal;line-height:28px;">&quot;BizMatcher&quot;</font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#FF0000" style="word-wrap:normal;word-break:normal;line-height:28px;">class</font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;">=</span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><font color="#0000FF" style="word-wrap:normal;word-break:normal;line-height:28px;">&quot;BizMaillet&quot;</font></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"><strong style="font-weight:bold;line-height:28px;"><font color="#006699" style="word-wrap:normal;word-break:normal;line-height:28px;">/&gt;</font></strong></span><span style="word-wrap:normal;word-break:normal;line-height:28px;"> <span></span> <span></span> <span></span> <span></span></span></strong></span></li>
</ol>
</div>
<p style="margin-bottom:5px;margin:0px 0px 10px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:28px;padding:0px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;color:rgb(51,51,51);padding-bottom:0px;padding-top:0px;padding-left:0px;padding-right:0px;">
 <span></span><span style="word-wrap:normal;word-break:normal;line-height:28px;font-size:medium;"><span style="word-wrap:normal;word-break:normal;line-height:22px;font-size:small;">这样就完成了我们自定义的Mailet的配置部署工作了。重启James服务器，则此Mailet即可生效。</span></span> <span></span><br style="line-height:28px;"/>

<span style="word-wrap:normal;word-break:normal;line-height:28px;font-size:medium;"><span style="word-wrap:normal;word-break:normal;line-height:22px;font-size:small;">4.1.4
测试Mailet <span></span><br style="line-height:22px;"/>
　　前面我们已经完成了Mailet的编码和部署工作，现在就让我们来测试一下我们的Mailet是否生效吧。首先，需要在James服务器上新建一个名称含Hello的用户。前面已介绍过新建用户的方法了，在此就不重复叙述了。 <span></span><br style="line-height:22px;"/>

　　使用adduser helloworld
881213命令新建一个helloworld用户。 <span></span><br style="line-height:22px;"/>
　　使用第三章所谈及的“使用Javamail向James的邮箱帐户发送邮件”来向helloworld@localhost发送一封邮件（当然，你同样可以使用Foxmail或Outlook向此地址发送邮件），邮件发送成功后，James服务器后台将输出“Receive
a piece of email”。运行效果如下图所示：</span></span> <span></span></p>
<p style="margin-bottom:5px;margin:0px 0px 10px;border:0px;list-style:none;word-wrap:normal;word-break:normal;line-height:28px;padding:0px;font-size:16px;font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;color:rgb(51,51,51);padding-bottom:0px;padding-top:0px;padding-left:0px;padding-right:0px;">
<a href="http://photo.blog.sina.com.cn/showpic.html#blogid=67196ddc0101fdrn&amp;url=http://album.sina.com.cn/pic/001T3J80gy6FtfoXOFD65" style="color:rgb(109, 88, 135);text-decoration:none;" target="_blank"><img src="James+Javamail构建邮件服务（一）(转载)_公民赵建_新浪博客_files/001T3J80gy6FtfoXOFD65&690.jpg" type="image/jpeg" data-filename="001T3J80gy6FtfoXOFD65&690.jpg" alt="James+Javamail构建邮件服务（一）(转载)" height="237" style="margin:0px;padding:0px;border:0px;list-style:none;" title="James+Javamail构建邮件服务（一）(转载)" width="645"/></a><br/></p>
<h3 style="font-family:'Hiragino sans GB W3', 'Hiragino sans GB', Arial, Helvetica, simsun, u5b8bu4f53;margin:34px 0px 10px;border:0px;list-style:none;overflow:hidden;word-wrap:break-word;font-size:16px;padding:0px;word-break:break-all;padding-bottom:0px;padding-top:0px;padding-left:0px;line-height:normal;padding-right:0px;">
<br/></h3>
</div>
</div>
</div>
</div>							
		</div>
						
		<div style="clear:both;position:relative;zoom:1;">
        	<div style="color:rgb(144, 144, 144);float:left;padding-top:180px;">
			分享： 
			<div style="font-size:13px;line-height:16px;display:inline;margin-left:5px;"><a href="#" style="zoom:1;text-decoration:none;padding-left:19px;height:16px;opacity:1;color:rgb(109, 88, 135);vertical-align:middle;cursor:pointer;margin-right:3px;display:inline-block;background:url(&quot;http://static.bshare.cn/frame/images/logos/s4/sprite/top_logos_sprite.png&quot;) 0px -270px no-repeat;" title="分享到新浪微博"></a><a href="#" style="zoom:1;text-decoration:none;padding-left:19px;height:16px;opacity:1;color:rgb(109, 88, 135);vertical-align:middle;cursor:pointer;margin-right:3px;display:inline-block;background:url(&quot;http://static.bshare.cn/frame/images/logos/s4/weixin.png&quot;) no-repeat;" title="分享到微信"></a><a href="#" style="zoom:1;text-decoration:none;padding-left:19px;height:16px;opacity:1;color:rgb(109, 88, 135);vertical-align:middle;cursor:pointer;margin-right:3px;display:inline-block;background:url(&quot;http://static.bshare.cn/frame/images/logos/s4/sprite/top_logos_sprite.png&quot;) 0px -234px no-repeat;" title="分享到QQ空间"></a><a href="#" style="zoom:1;text-decoration:none;padding-left:19px;height:16px;opacity:1;color:rgb(109, 88, 135);vertical-align:middle;cursor:pointer;margin-right:3px;display:inline-block;background:url(&quot;http://static.bshare.cn/frame/images/logos/s4/sprite/top_logos_sprite.png&quot;) 0px -36px no-repeat;" title="分享到豆瓣"></a><a style="zoom:1;text-decoration:none;opacity:1;height:16px;margin-right:3px;cursor:pointer;vertical-align:middle;display:inline-block;background:url(&quot;http://static.bshare.cn/frame/images/logos/s4/more-style-addthis.png&quot;) no-repeat;color:rgb(51, 51, 51);padding-left:19px;" title="更多平台"></a>
			</div>
			</div>
            <div style="float:right;width:80px;height:62px;position:relative;top:34px;z-index:1;">
	        	<div style="width:100px;height:62px;overflow:hidden;background:url(&quot;http://simg.sinajs.cn/blog7style/css/common/../../images/common/up_bg.png&quot;) left top no-repeat;color:rgb(255, 66, 0);position:absolute;left:-372px;cursor:pointer;" title="喜欢后让更多人看到">
	            	<p style="margin:0px;padding:0px;border:0px;list-style:none;height:24px;line-height:24px;font-size:14px;font-family:宋体;text-align:center;font-weight:bold;">2</p>
	                <p style="line-height:38px;margin:0px;border:0px;list-style:none;padding:0px;height:38px;text-align:center;font-size:14px;font-weight:bold;color:rgb(63, 108, 0);cursor:pointer;"><img src="James+Javamail构建邮件服务（一）(转载)_公民赵建_新浪博客_files/sg_trans [2].gif" type="image/gif" data-filename="sg_trans.gif" align="absmiddle" height="15" style="margin:0px;padding:0px;border:0px;list-style:none;background-image:url("http://simg.sinajs.cn/blog7style/css/common/../../images/common/sg_icon.png?20131218");background-position:585px -30px;" width="15"/>喜欢</p>
	            </div>

                                <div style="width:100px;height:62px;overflow:hidden;background:url(&quot;http://simg.sinajs.cn/blog7style/css/common/../../images/common/up_bg1.png&quot;) left top no-repeat;position:absolute;left:-245px;">
                    <p style="margin:0px;padding:0px;border:0px;list-style:none;height:24px;line-height:24px;font-size:14px;font-family:宋体;text-align:center;font-weight:bold;">0</p>
                    <p style="line-height:38px;margin:0px;border:0px;list-style:none;padding:0px;height:38px;text-align:center;font-size:14px;font-weight:bold;color:rgb(51, 51, 51);cursor:pointer;"><img src="James+Javamail构建邮件服务（一）(转载)_公民赵建_新浪博客_files/sg_trans [3].gif" type="image/gif" data-filename="sg_trans.gif" align="absmiddle" height="16" style="margin:0px;padding:0px;border:0px;list-style:none;background-image:url("http://simg.sinajs.cn/blog7style/css/common/../../images/common/sg_icon.png?20131218");background-position:-510px -229px;" title="赠金笔" width="20"/>赠金笔</p>
                </div>
                
	        </div>
            <div style="clear:both;height:0px;overflow:hidden;"></div>
		</div>
		<div style="clear:both;padding-top:10px;">
			
			<div style="float:left;width:65%;padding-top:2px;">
				阅读<span style="color:rgb(144, 144, 144);font-family:宋体;">(3580)</span><em style="font-style:normal;color:rgb(144, 144, 144);margin:0px 2px;">┊</em> 
				<a href="http://blog.sina.com.cn/s/blog_67196ddc0101fdrn.html#commonComment" style="text-decoration:none;color:rgb(109, 88, 135);">评论</a> <span style="color:rgb(144, 144, 144);font-family:宋体;">(1)</span><em style="font-style:normal;color:rgb(144, 144, 144);margin:0px 2px;">┊</em>				<a href="#" style="text-decoration:none;color:rgb(109, 88, 135);">收藏</a><span style="color:rgb(144, 144, 144);font-family:宋体;">(0)</span>
				<em style="font-style:normal;color:rgb(144, 144, 144);margin:0px 2px;">┊</em><a href="http://blog.sina.com.cn/s/blog_67196ddc0101fdrn.html#" style="text-decoration:none;color:rgb(109, 88, 135);">转载</a><a href="http://blog.sina.com.cn/s/blog_67196ddc0101fdrn.html#" style="text-decoration:none;color:rgb(109, 88, 135);font-family:宋体;">(2)</a>				<span style="color:rgb(144, 144, 144);font-family:宋体;"></span><em style="font-style:normal;color:rgb(144, 144, 144);margin:0px 2px;">┊</em>
				<a href="#" style="text-decoration:none;color:rgb(109, 88, 135);"><cite style="font-style:normal;">喜欢</cite></a><a href="#" style="text-decoration:none;color:rgb(109, 88, 135);"><b style="font-family:Verdana, Helvetica;font-size:9px;">▼</b></a>
									<em style="font-style:normal;color:rgb(144, 144, 144);margin:0px 2px;">┊</em><a href="http://blog.sina.com.cn/main_v5/ria/print.html?blog_id=blog_67196ddc0101fdrn" style="text-decoration:none;color:rgb(109, 88, 135);" target="_blank">打印</a><em style="font-style:normal;color:rgb(144, 144, 144);margin:0px 2px;">┊</em><a href="http://blog.sina.com.cn/s/blog_67196ddc0101fdrn.html#" style="text-decoration:none;color:rgb(109, 88, 135);">举报</a>
											</div>
			<div style="float:right;width:35%;">
				<table style="font-size:inherit;font-weight:inherit;font-style:inherit;font-variant:inherit;margin:0px;padding:0px;float:right;">
					<tbody><tr>
										</tr>
									</tbody></table>
			</div>
		</div>
		<div style="clear:both;height:0px;overflow:hidden;"></div>
		
		<div style="background-image:url(&quot;http://simg.sinajs.cn/blog7style/css/common/../../images/common/SG_linedot.gif&quot;);background-repeat:repeat-x;display:block;clear:both;margin:20px 0px 0px;padding:24px 0px;font-size:14px;">
							<div style="line-height:24px;min-height:24px;font-family:宋体;"><span style="color:rgb(144, 144, 144);">前一篇：</span><a href="http://blog.sina.com.cn/s/blog_67196ddc0101fbym.html" style="text-decoration:none;color:rgb(109, 88, 135);">JSpider学习（转载）</a></div>
										<div style="line-height:24px;min-height:24px;font-family:宋体;"><span style="color:rgb(144, 144, 144);">后一篇：</span><a href="http://blog.sina.com.cn/s/blog_67196ddc0101fdru.html" style="text-decoration:none;color:rgb(109, 88, 135);">James+Javamail构建邮件服务（二）(转载)</a></div>
					<span style="font-size:14px;clear:both;display:block;height:0px;visibility:hidden;overflow:hidden;">.</span></div>
		<div style="clear:both;height:0px;overflow:hidden;"></div>
							
		<div></div>
				<div style="zoom:1;">
			<div style="background:url(&quot;http://simg.sinajs.cn/blog7style/css/common/../../images/common/SG_newsp.png&quot;) left -400px repeat-x;height:25px;line-height:25px;">
				<div style="float:left;display:inline;padding-left:10px;">
				    <strong style="margin-right:25px;">评论</strong>
				    <span style="display:inline-block;">
				        <span style="margin-left:15px;width:220px;display:inline-block;"><a href="http://blog.sina.com.cn/lm/8/2009/0325/105340.html" style="text-decoration:none;color:rgb(109, 88, 135);" target="_blank">重要提示：警惕虚假中奖信息</a></span>
				    </span>
				</div>
				<div style="float:right;display:inline;padding-right:10px;"><a href="http://blog.sina.com.cn/s/blog_67196ddc0101fdrn.html#post" style="font-family:宋体;font-size:12px;font-weight:normal;white-space:nowrap;zoom:1;color:rgb(109, 88, 135);margin:0px;text-decoration:none;">[<cite style="font-style:normal;font-family:Verdana;text-decoration:none;cursor:pointer;">发评论</cite>]</a></div>
			</div>
			<ul style="margin:0px;padding:0px;border:0px;list-style:none;overflow:hidden;width:100%;"><li style="margin:0px;border:0px;list-style:none;padding:20px 0px;width:100%;overflow:hidden;background-position:center top;"><div style="float:none;width:652px;font-family:宋体;padding-top:2px;margin-left:20px;"><p style="margin:0px;padding:0px;border:0px;list-style:none;width:100%;clear:both;overflow:hidden;font-size:12px;"><span style="float:left;font-weight:bold;"><a href="http://blog.sina.com.cn/u/1866992623" style="text-decoration:none;color:rgb(109, 88, 135);vertical-align:middle;">小龙哥</a><span style="background:url(&quot;http://simg.sinajs.cn/blog7style/css/module/common/../../../images/common/godreply.png&quot;) no-repeat;text-align:center;color:rgb(255, 255, 255);display:inline-block;width:40px;height:20px;line-height:20px;margin-left:6px;vertical-align:middle;font-weight:400;">神评</span></span></p><div style="color:rgb(144, 144, 144);line-height:22px;clear:both;width:100%;font-size:14px;margin-top:9px;word-break:break-all;"><img src="James+Javamail构建邮件服务（一）(转载)_公民赵建_新浪博客_files/E___0109GD00SIGT.gif" type="image/gif" data-filename="E___0109GD00SIGT.gif" border="0" height="230" style="margin:1px;padding:0px;border:0px;list-style:none;" title="涨姿势" width="460"/></div><p style="margin:0px;padding:0px;border:0px;list-style:none;width:100%;clear:both;overflow:hidden;font-size:12px;padding-top:10px;"><em style="font-style:normal;color:rgb(144, 144, 144);margin-right:12px;">2015-11-4  17:21</em><span style="float:right;"><a href="#" style="text-decoration:none;color:rgb(109, 88, 135);margin:0px 5px;visibility:hidden;"><cite style="font-style:normal;">举报</cite></a><a href="#" style="text-decoration:none;color:rgb(109, 88, 135);margin:0px 5px;visibility:hidden;"><cite style="font-style:normal;">分享</cite></a><a href="#" style="text-decoration:none;color:rgb(109, 88, 135);margin:0px 5px;"><cite style="font-style:normal;">回复(0)</cite></a></span></p></div></li></ul>
			<div style="clear:both;height:0px;overflow:hidden;"></div>
			
			<a name="post" style="text-decoration:none;color:rgb(109, 88, 135);"></a>
			<div style="padding:15px 0px;width:684px;margin:0px auto;">
				<div style="background:url(&quot;http://simg.sinajs.cn/blog7style/css/common/../../images/common/SG_newsp.png&quot;) left -400px repeat-x;height:25px;line-height:25px;">
					<div style="float:left;display:inline;padding-left:10px;">
					    <strong style="margin-right:25px;">发评论</strong>
					    <span></span>
					</div>
					<div style="float:right;display:inline;padding-right:10px;"></div>
				</div>
				<div style="clear:both;width:684px;overflow:hidden;margin-top:18px;">
					
				</div>
				<div style="padding-bottom:10px;">
					<div style="float:left;">
					<div style="border:1px solid #C7C7C7;height:158px;width:448px;maring-top:1px;background-color:white;position:relative;"><div style="font-size: 16px; display: inline-block;"><div style="cursor:text;"><div style="margin:0px;padding:10px;word-wrap:break-word;overflow-y:scroll;overflow-x:auto;height:90%;font-size:14px;font-family:&quot;&quot;, Verdana, Arial, Helvetica, sans-serif;line-height:1.5;">
</div></div></div></div>
					
					</div>
					
					<div style="width:230px;height:158px;border-top:1px solid rgb(199, 199, 199);border-right:1px solid rgb(199, 199, 199);border-bottom:1px solid rgb(199, 199, 199);border-image:initial;background-color:rgb(245, 245, 245);border-left:none;margin-top:0px;float:left;">
						<div style="clear:both;padding:8px 0px 6px 7px;height:27px;overflow:hidden;">
						<div style="float:left;"><a href="http://blog.sina.com.cn/s/blog_67196ddc0101fdrn.html#" style="text-decoration:none;color:rgb(109, 88, 135);width:27px;height:27px;float:left;margin-right:3px;outline:none;"><img src="James+Javamail构建邮件服务（一）(转载)_公民赵建_新浪博客_files/302-25.gif" type="image/gif" data-filename="302-25.gif" alt="小新小浪" height="25" style="margin:0px;padding:0px;list-style:none;border:1px solid rgb(182, 182, 182);width:25px;height:25px;" title="小新小浪" width="25"/></a><a href="http://blog.sina.com.cn/s/blog_67196ddc0101fdrn.html#" style="text-decoration:none;color:rgb(109, 88, 135);width:27px;height:27px;float:left;margin-right:3px;outline:none;"><img src="James+Javamail构建邮件服务（一）(转载)_公民赵建_新浪博客_files/308-25.gif" type="image/gif" data-filename="308-25.gif" alt="炮炮兵" height="25" style="margin:0px;padding:0px;list-style:none;border:1px solid rgb(182, 182, 182);width:25px;height:25px;" title="炮炮兵" width="25"/></a><a href="http://blog.sina.com.cn/s/blog_67196ddc0101fdrn.html#" style="text-decoration:none;color:rgb(109, 88, 135);width:27px;height:27px;float:left;margin-right:3px;outline:none;"><img src="James+Javamail构建邮件服务（一）(转载)_公民赵建_新浪博客_files/315-25.gif" type="image/gif" data-filename="315-25.gif" alt="张富贵" height="25" style="margin:0px;padding:0px;list-style:none;border:1px solid rgb(182, 182, 182);width:25px;height:25px;" title="张富贵" width="25"/></a><a href="http://blog.sina.com.cn/s/blog_67196ddc0101fdrn.html#" style="text-decoration:none;color:rgb(109, 88, 135);width:27px;height:27px;float:left;margin-right:3px;outline:none;"><img src="James+Javamail构建邮件服务（一）(转载)_公民赵建_新浪博客_files/316-25.gif" type="image/gif" data-filename="316-25.gif" alt="旺狗" height="25" style="margin:0px;padding:0px;list-style:none;border:1px solid rgb(182, 182, 182);width:25px;height:25px;" title="旺狗" width="25"/></a><a href="http://blog.sina.com.cn/s/blog_67196ddc0101fdrn.html#" style="text-decoration:none;color:rgb(109, 88, 135);width:27px;height:27px;float:left;margin-right:3px;outline:none;"><img src="James+Javamail构建邮件服务（一）(转载)_公民赵建_新浪博客_files/331-25.gif" type="image/gif" data-filename="331-25.gif" alt="悠嘻猴" height="25" style="margin:0px;padding:0px;list-style:none;border:1px solid rgb(182, 182, 182);width:25px;height:25px;" title="悠嘻猴" width="25"/></a><a href="http://blog.sina.com.cn/s/blog_67196ddc0101fdrn.html#" style="text-decoration:none;color:rgb(109, 88, 135);width:27px;height:27px;float:left;margin-right:3px;outline:none;"><img src="James+Javamail构建邮件服务（一）(转载)_公民赵建_新浪博客_files/351-25.gif" type="image/gif" data-filename="351-25.gif" alt="酷巴熊" height="25" style="margin:0px;padding:0px;list-style:none;border:1px solid rgb(182, 182, 182);width:25px;height:25px;" title="酷巴熊" width="25"/></a></div><span style="color:rgb(51, 102, 153);font-family:宋体;line-height:27px;float:left;"><a href="http://blog.sina.com.cn/s/blog_67196ddc0101fdrn.html#" style="text-decoration:none;color:rgb(109, 88, 135);">更多&gt;&gt;</a></span><div style="clear:both;height:0px;overflow:hidden;"></div></div>
						<ul style="margin:0px;border:0px;list-style:none;padding:0px 0px 0px 7px;clear:both;"><li style="margin:0px;padding:0px;border:0px;list-style:none;position:relative;float:left;margin-right:3px;margin-bottom:3px;"><a href="http://blog.sina.com.cn/s/blog_67196ddc0101fdrn.html#" style="text-decoration:none;color:rgb(109, 88, 135);width:52px;height:52px;outline:none;"><img src="James+Javamail构建邮件服务（一）(转载)_公民赵建_新浪博客_files/E___0321EN00SIGT.gif" type="image/gif" data-filename="E___0321EN00SIGT.gif" alt="就不买你" height="50" style="margin:0px;padding:0px;list-style:none;border:1px solid rgb(182, 182, 182);" title="就不买你" width="50"/></a></li><li style="margin:0px;padding:0px;border:0px;list-style:none;position:relative;float:left;margin-right:3px;margin-bottom:3px;"><a href="http://blog.sina.com.cn/s/blog_67196ddc0101fdrn.html#" style="text-decoration:none;color:rgb(109, 88, 135);width:52px;height:52px;outline:none;"><img src="James+Javamail构建邮件服务（一）(转载)_公民赵建_新浪博客_files/E___0320EN00SIGT.gif" type="image/gif" data-filename="E___0320EN00SIGT.gif" alt="股市" height="50" style="margin:0px;padding:0px;list-style:none;border:1px solid rgb(182, 182, 182);" title="股市" width="50"/></a></li><li style="margin:0px;padding:0px;border:0px;list-style:none;position:relative;float:left;margin-right:3px;margin-bottom:3px;"><a href="http://blog.sina.com.cn/s/blog_67196ddc0101fdrn.html#" style="text-decoration:none;color:rgb(109, 88, 135);width:52px;height:52px;outline:none;"><img src="James+Javamail构建邮件服务（一）(转载)_公民赵建_新浪博客_files/E___0319EN00SIGT.gif" type="image/gif" data-filename="E___0319EN00SIGT.gif" alt="发霉" height="50" style="margin:0px;padding:0px;list-style:none;border:1px solid rgb(182, 182, 182);" title="发霉" width="50"/></a></li><li style="margin:0px;padding:0px;border:0px;list-style:none;position:relative;float:left;margin-right:3px;margin-bottom:3px;"><a href="http://blog.sina.com.cn/s/blog_67196ddc0101fdrn.html#" style="text-decoration:none;color:rgb(109, 88, 135);width:52px;height:52px;outline:none;"><img src="James+Javamail构建邮件服务（一）(转载)_公民赵建_新浪博客_files/E___0318EN00SIGT.gif" type="image/gif" data-filename="E___0318EN00SIGT.gif" alt="陈水边" height="50" style="margin:0px;padding:0px;list-style:none;border:1px solid rgb(182, 182, 182);" title="陈水边" width="50"/></a></li><li style="margin:0px;padding:0px;border:0px;list-style:none;position:relative;float:left;margin-right:3px;margin-bottom:3px;"><a href="http://blog.sina.com.cn/s/blog_67196ddc0101fdrn.html#" style="text-decoration:none;color:rgb(109, 88, 135);width:52px;height:52px;outline:none;"><img src="James+Javamail构建邮件服务（一）(转载)_公民赵建_新浪博客_files/E___0317EN00SIGT.gif" type="image/gif" data-filename="E___0317EN00SIGT.gif" alt="裁员" height="50" style="margin:0px;padding:0px;list-style:none;border:1px solid rgb(182, 182, 182);" title="裁员" width="50"/></a></li><li style="margin:0px;padding:0px;border:0px;list-style:none;position:relative;float:left;margin-right:3px;margin-bottom:3px;"><a href="http://blog.sina.com.cn/s/blog_67196ddc0101fdrn.html#" style="text-decoration:none;color:rgb(109, 88, 135);width:52px;height:52px;outline:none;"><img src="James+Javamail构建邮件服务（一）(转载)_公民赵建_新浪博客_files/E___0316EN00SIGT.gif" type="image/gif" data-filename="E___0316EN00SIGT.gif" alt="音乐" height="50" style="margin:0px;padding:0px;list-style:none;border:1px solid rgb(182, 182, 182);" title="音乐" width="50"/></a></li><li style="margin:0px;padding:0px;border:0px;list-style:none;position:relative;float:left;margin-right:3px;margin-bottom:3px;"><a href="http://blog.sina.com.cn/s/blog_67196ddc0101fdrn.html#" style="text-decoration:none;color:rgb(109, 88, 135);width:52px;height:52px;outline:none;"><img src="James+Javamail构建邮件服务（一）(转载)_公民赵建_新浪博客_files/E___0315EN00SIGT.gif" type="image/gif" data-filename="E___0315EN00SIGT.gif" alt="贴你" height="50" style="margin:0px;padding:0px;list-style:none;border:1px solid rgb(182, 182, 182);" title="贴你" width="50"/></a></li><li style="margin:0px;padding:0px;border:0px;list-style:none;position:relative;float:left;margin-right:3px;margin-bottom:3px;"><a href="http://blog.sina.com.cn/s/blog_67196ddc0101fdrn.html#" style="text-decoration:none;color:rgb(109, 88, 135);width:52px;height:52px;outline:none;"><img src="James+Javamail构建邮件服务（一）(转载)_公民赵建_新浪博客_files/E___0314EN00SIGT.gif" type="image/gif" data-filename="E___0314EN00SIGT.gif" alt="抢车位" height="50" style="margin:0px;padding:0px;list-style:none;border:1px solid rgb(182, 182, 182);" title="抢车位" width="50"/></a></li></ul>
					</div>
					<div style="clear:both;height:0px;overflow:hidden;"></div>
				</div>
				<div style="width:100%;clear:both;">
					<div style="float:left;display:inline;"> 
					<p style="margin:0px;padding:0px;border:0px;list-style:none;margin-bottom:8px;display:block;"><span>登录名：</span>   <span>密码：</span>   <a href="http://login.sina.com.cn/getpass.html" style="text-decoration:none;color:rgb(109, 88, 135);" target="_blank">找回密码</a>   <a href="http://login.sina.com.cn/signup/signup.php?entry=blog&amp;src=blogicp&amp;srcuid=1729719772" style="text-decoration:none;color:rgb(109, 88, 135);" target="_blank">注册</a>	<span style="margin:0px;padding:0px;border:0px;list-style:none;cursor:pointer;display:inline-block;" title="建议在网吧/公用电脑上取消该选项">记住登录状态</span></p><p style="margin:0px;padding:0px;border:0px;list-style:none;margin-bottom:8px;"> <span style="margin:0px;padding:0px;border:0px;list-style:none;cursor:pointer;"><img src="James+Javamail构建邮件服务（一）(转载)_公民赵建_新浪博客_files/sg_trans [4].gif" type="image/gif" data-filename="sg_trans.gif" align="absmiddle" height="18" style="margin:0px;padding:0px;border:0px;list-style:none;background-image:url("http://simg.sinajs.cn/blog7style/css/common/../../images/common/sg_icon.png?20131218");background-position:525px -60px;margin-right:2px;" title="" width="18"/>分享到微博 <img src="James+Javamail构建邮件服务（一）(转载)_公民赵建_新浪博客_files/sg_trans [5].gif" type="image/gif" data-filename="sg_trans.gif" align="absmiddle" height="15" style="margin:0px;padding:0px;border:0px;list-style:none;background-image:url("http://simg.sinajs.cn/blog7style/css/common/../../images/common/sg_icon.png?20131218");background-position:465px top;" title="新" width="15"/></span>   <span style="margin:0px;padding:0px;border:0px;list-style:none;cursor:pointer;">评论并转载此博文</span><img src="James+Javamail构建邮件服务（一）(转载)_公民赵建_新浪博客_files/sg_trans [6].gif" type="image/gif" data-filename="sg_trans.gif" align="absmiddle" height="15" style="margin:0px;padding:0px;border:0px;list-style:none;background-image:url("http://simg.sinajs.cn/blog7style/css/common/../../images/common/sg_icon.png?20131218");background-position:465px top;" title="新" width="15"/></p>
					<p style="margin:0px;padding:0px;border:0px;list-style:none;margin-bottom:8px;"><div style="box-sizing:content-box;overflow:visible;position:relative;zoom:1;width:261px;letter-spacing:0px;font-family:&quot;Open Sans&quot;, Arial, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, STHeiti, &quot;WenQuanYi Micro Hei&quot;, SimSun, sans-serif;touch-action:none;"><div style="background-repeat:no-repeat;background-image:url(&quot;http://static.geetest.com/static/golden/sprite.3.2.0.png&quot;);height:28px;width:261px;background-position:0px 0px;position:relative;overflow:visible;left:0px;"><div style="cursor:default;position:absolute;left:40px;color:rgb(72, 108, 128);opacity:1;height:28px;text-align:center;width:220px;font-size:12px;line-height:28px;">按住左边滑块，拖动完成上方拼图</div><div style="display:block;background-repeat:no-repeat;height:44px;width:44px;background-position:0px -84px;cursor:pointer;background-image:url(&quot;http://static.geetest.com/static/golden/sprite.3.2.0.png&quot;);position:absolute;left:0px;top:-9px;box-shadow:none;border-radius:13px;z-index:399;"></div><div style="color:rgb(182, 169, 152);cursor:default;left:0px;width:100%;text-align:center;position:absolute;height:28px;opacity:0;visibility:hidden;font-size:12px;line-height:28px;">点击上图按钮并沿道路拖动到终点处</div><div style="left:0px;background-repeat:no-repeat;height:28px;width:100%;background-position:0px -360px;cursor:default;position:absolute;background-image:url(&quot;http://static.geetest.com/static/golden/sprite.3.2.0.png&quot;);text-align:center;color:rgb(182, 169, 152);opacity:0;visibility:hidden;font-size:12px;line-height:28px;">移动到此开始验证</div><div style="position:absolute;right:-35px;top:2px;background-repeat:no-repeat;background-image:url(&quot;http://static.geetest.com/static/golden/sprite.3.2.0.png&quot;);height:26px;width:26px;background-position:0px -1153px;"></div></div></div></p>
					</div>

					

											
									</div>
				<div style="text-align:center;padding:25px 0px 0px;width:100%;clear:both;">
					<a href="#" style="background-repeat:no-repeat;background-image:url(&quot;http://simg.sinajs.cn/blog7style/css/common/../../images/common/sg_newsp.png&quot;);cursor:pointer;padding:0px 0px 0px 3px;overflow:hidden;white-space:nowrap;color:rgb(51, 51, 51);background-position:0px 0px;display:inline-block;margin-right:6px;text-decoration:none;font-size:12px;"><cite style="background-position:right -28px;font-style:normal;min-width:48px;padding:0px 10px 0px 8px;height:23px;background-repeat:no-repeat;line-height:23px;display:inline-block;overflow-x:visible;white-space:nowrap;text-align:center;background-image:url(&quot;http://simg.sinajs.cn/blog7style/css/common/../../images/common/sg_newsp.png&quot;);font-size:12px;">发评论</cite></a>
					<p style="margin:0px;border:0px;list-style:none;color:rgb(144, 144, 144);padding:15px 0px 25px;">以上网友发言只代表其个人观点，不代表新浪网的观点或立场。</p>
				</div>
			</div>
		</div>
				<div style="clear:both;height:0px;overflow:hidden;"></div>
		
				<div style="display:block;clear:both;margin:20px 0px 0px;padding:24px 0px;font-size:14px;margin-top:0px;padding-top:0px;">
						  <div style="float:left;display:inline;line-height:24px;min-height:24px;font-family:宋体;width:340px;"><span style="color:rgb(144, 144, 144);clear:both;display:block;">&lt; 前一篇</span><a href="http://blog.sina.com.cn/s/blog_67196ddc0101fbym.html" style="text-decoration:none;color:rgb(109, 88, 135);">JSpider学习（转载）</a></div>
									  <div style="float:right;display:inline;line-height:24px;min-height:24px;font-family:宋体;text-align:right;width:340px;"><span style="color:rgb(144, 144, 144);clear:both;display:block;">后一篇 &gt;</span><a href="http://blog.sina.com.cn/s/blog_67196ddc0101fdru.html" style="text-decoration:none;color:rgb(109, 88, 135);">James+Javamail构建邮件服务（二）(转载)</a></div>
					<span style="font-size:14px;clear:both;display:block;height:0px;visibility:hidden;overflow:hidden;">.</span></div>
		<div style="clear:both;height:0px;overflow:hidden;"></div>
				
	</div></div></div></div></div></div></div></div></div></div><br/></div></span>
</div></body></html> 